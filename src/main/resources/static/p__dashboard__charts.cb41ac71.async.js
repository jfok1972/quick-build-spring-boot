(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"1rta":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("5NDa");var n=a("5rEg"),c=(a("y8nQ"),a("Vl3Y")),o=a("tJVT"),r=(a("iQDF"),a("+eQT")),i=(a("q1tI"),a("jE+T")),l=a("SdJU"),u=a("nKUr"),d=r["a"].RangePicker,s=function(t){var e=t.dateSection,a=t.setDateSection,r=t.label,s=void 0===r?"\u65e5\u671f\u533a\u95f4":r,f=c["a"].useForm(),j=Object(o["a"])(f,1),b=j[0];return Object(u["jsx"])(c["a"],{form:b,layout:"inline",size:"middle",children:Object(u["jsx"])(c["a"].Item,{label:s,children:Object(u["jsxs"])(n["a"].Group,{compact:!0,style:{display:"flex"},children:[Object(u["jsx"])(l["a"],{autoHidden:!0,callback:function(t){a(t)}}),Object(u["jsx"])(c["a"].Item,{noStyle:!0,children:Object(u["jsx"])(d,{value:e,onChange:function(t){a(t||[null,null])},allowEmpty:[!0,!0],picker:"date",style:{flex:1},format:i["a"]})})]})})})}},VIkc:function(t,e,a){t.exports={dashboardcard:"dashboardcard___QN_bb"}},a5Wf:function(t,e,a){"use strict";a.r(e);a("IzEo"),a("bx4M"),a("Znn+"),a("ZTPi"),a("q1tI"),a("14J3"),a("BMrR"),a("jCWc"),a("kPKH"),a("7Kak"),a("9yH6"),a("k1fw"),a("tJVT"),a("9kvl"),a("mPcc"),a("sy1d"),a("wd/R"),a("79+z");var n=a("eVqf"),c=(a("I+Rq"),a("LDJE"),a("jE+T"),a("1rta"),a("cMsQ"),a("4aSi"),a("TKgZ"),a("G3dp"),a("xvlK"),a("/MfK"),a("nKUr")),o=(a("ZhIB"),Object(n["h"])("count.*"),a("oBTY"),a("2BaD"),a("Icgb"),a("Ue1A"),a("ZhIB"),Object(n["h"])("count.*"),Object(n["h"])("avg.udfloginminute"),a("ZhIB"),Object(n["h"])("count.*"),a("rpuo"),a("mqE+")),r=function(){return Object(c["jsx"])("div",{style:{margin:"-24px"},children:Object(c["jsx"])(o["b"],{})})};e["default"]=r},cMsQ:function(t,e,a){"use strict";a.r(e),a.d(e,"chartsColSpan",(function(){return d})),a.d(e,"staticColSpan",(function(){return s}));var n=a("k1fw"),c=(a("IzEo"),a("bx4M")),o=(a("q1tI"),a("DkMg")),r=a("a5Wf"),i=a("x9gF"),l=a("lPrX"),u=a("nKUr"),d={xs:24,sm:24,md:24,lg:12,xl:12,xxl:12},s={xs:24,sm:12,md:12,lg:12,xl:6,xxl:6};e["default"]=function(){var t={bordered:!1,bodyStyle:{padding:"0px 0px 16px 0px",margin:"0px 16px 16px"},style:{margin:"-8px"}};return"pm"===o["c"].systeminfo.systemkey?Object(u["jsx"])(c["a"],Object(n["a"])(Object(n["a"])({},t),{},{children:Object(u["jsx"])(i["a"],{})})):"abcgate"===o["c"].systeminfo.systemkey?Object(u["jsx"])(c["a"],Object(n["a"])(Object(n["a"])({},t),{},{children:Object(u["jsx"])(l["a"],{})})):Object(u["jsx"])(r["default"],{})}},lPrX:function(t,e,a){"use strict";a.d(e,"a",(function(){return P}));a("Znn+");var n=a("ZTPi"),c=(a("14J3"),a("BMrR")),o=(a("jCWc"),a("kPKH")),r=(a("IzEo"),a("bx4M")),i=a("k1fw"),l=a("tJVT"),u=a("q1tI"),d=a("eVqf"),s=a("sy1d"),f=a("mPcc"),j=a("79+z"),b=a("I+Rq"),m=a("cMsQ"),p=a("nKUr"),O=a("ZhIB"),y={size:"default",bodyStyle:{height:"360px",paddingTop:12,paddingBottom:12}},h=Object(d["h"])("count.*"),x=function(t){var e=t.title,a=t.groupfieldid,n=Object(u["useState"])([]),c=Object(l["a"])(n,2),o=c[0],d=c[1],m=Object(u["useState"])(!0),x=Object(l["a"])(m,2),g=x[0],v=x[1],S=function(){v(!0);var t=["count.*"];Object(s["default"])("".concat(s["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(f["serialize"])(Object(j["F"])({moduleName:"AbcEmployee",fields:t,groupfieldid:a}))}).then((function(t){d(t.map((function(t){return{type:t.text?"".concat(t.text,"\u2103"):"\u672a\u68c0\u6d4b",value:t[h]}})).sort((function(t,e){return e.value-t.value}))),v(!1)}))},P={appendPadding:10,data:o,loading:g,angleField:"value",colorField:"type",radius:.8,innerRadius:.64,label:{type:"outer",formatter:function(t){return"".concat(t.value,"\u4eba(").concat(O(t.percent).format("0.00%"),")")}},statistic:{title:{formatter:function(){return"\u603b\u8ba1"},offsetY:-15},content:{formatter:function(t,e){var a=0;return e&&e.forEach((function(t){a+=t.value})),"".concat(O(a).format("0,0"),"\u4eba")},offsetY:15,style:{fontSize:"20px"}}},interactions:[{type:"element-active"}],legend:{layout:"vertical",position:"right",animate:!0},tooltip:{formatter:function(t){return{name:t.type,value:"".concat(O(t.value).format("0,0"),"\u4eba")}}}};return Object(u["useEffect"])((function(){S()}),[]),Object(p["jsx"])(r["a"],Object(i["a"])(Object(i["a"])({title:e},y),{},{extra:null,children:Object(p["jsx"])(b["a"],Object(i["a"])({},P))}))},g=function(){var t=Object(p["jsxs"])(c["a"],{gutter:[12,12],children:[Object(p["jsx"])(o["a"],Object(i["a"])(Object(i["a"])({},m["chartsColSpan"]),{},{children:Object(p["jsx"])(x,{title:"\u4eba\u5458\u5f53\u5929\u4f53\u6e29\u72b6\u6001\u56fe",groupfieldid:{fieldname:"todayState"}})})),Object(p["jsx"])(o["a"],Object(i["a"])(Object(i["a"])({},m["chartsColSpan"]),{},{children:Object(p["jsx"])(x,{title:"\u4eba\u5458\u5f53\u5929\u4f53\u6e29\u503c\u56fe",groupfieldid:{fieldname:"todayTemperature"}})}))]});return t},v=a("VIkc"),S=a.n(v),P=function(){return Object(p["jsx"])(n["a"],{children:Object(p["jsx"])(n["a"].TabPane,{tabKey:"AbcEmployee",tab:"\u4eba\u5458\u5f53\u5929\u4f53\u6e29",className:S.a.dashboardcard,children:Object(p["jsx"])(g,{})},"AbcEmployee")})}},rpuo:function(t,e,a){t.exports={dashboardcard:"dashboardcard___3ibLv"}},x9gF:function(t,e,a){"use strict";a.d(e,"a",(function(){return Rt}));a("Znn+");var n=a("ZTPi"),c=a("VIkc"),o=a.n(c),r=(a("14J3"),a("BMrR")),i=(a("jCWc"),a("kPKH")),l=(a("OaEy"),a("2fM7")),u=(a("IzEo"),a("bx4M")),d=(a("BoS7"),a("Sdc0")),s=a("k1fw"),f=(a("y8nQ"),a("Vl3Y")),j=a("tJVT"),b=a("q1tI"),m=a.n(b),p=a("LDJE"),O=a("I+Rq"),y=a("f3GM"),h=a("sy1d"),x=a("mPcc"),g=a("eVqf"),v=a("79+z"),S=(a("nRaC"),a("5RzL")),P=a("WTWM"),A=a("nKUr"),T=function(t){var e=t.title,a=t.callback,n=Object(P["u"])("FOrganization",!0,!1),c=function t(e){return e.map((function(e){return{value:e.value||"",label:e.text,key:e.value,children:e.children&&e.children.length>0?t(e.children):null}}))},o=c(n);return Object(A["jsx"])(f["a"].Item,{label:e||"\u90e8\u95e8",name:"orgid",children:Object(A["jsx"])(S["a"],{style:{flex:1},allowClear:!0,showSearch:!0,treeNodeFilterProp:"label",treeData:o,treeDefaultExpandAll:!0,onChange:function(t){return a&&a(t)}})})},F=T,I=(a("g9YV"),a("wCAj")),E=a("5Zmo"),w=function(t){var e=t.data,a=t.unitText,n=t.typeTitle,c=t.valueTitle,o=e.map((function(t,e){return Object(s["a"])(Object(s["a"])({},t),{},{key:e+1})})),r=[{dataIndex:"key",key:"key",title:"\u5e8f\u53f7",align:"center"},{dataIndex:"type",key:"type",title:n||"\u6307\u6807\u9879\u76ee"},{dataIndex:"value",key:"value",align:"right",title:c||"\u6307\u6807\u503c",render:function(t){return Object(A["jsxs"])("span",{children:["\u4e2a"===a?Object(E["h"])(t):Object(E["e"])(t,void 0),a?Object(A["jsx"])("span",{style:{color:"green",paddingLeft:"4px"},children:a}):Object(A["jsx"])(A["Fragment"],{})]})}}];return Object(A["jsx"])(I["a"],{size:"small",pagination:{pageSize:6,hideOnSinglePage:!0},style:{height:"120px"},columns:r,dataSource:o})},z=w,k=a("UdsK"),Y=a("VTBJ"),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"},D=C,R=a("6VBw"),B=function(t,e){return b["createElement"](R["a"],Object(Y["a"])(Object(Y["a"])({},t),{},{ref:e,icon:D}))};B.displayName="UnorderedListOutlined";var N=b["forwardRef"](B),H=function(t){var e=t.showGrid,a=t.setShowGrid;return e?Object(A["jsx"])("a",{onClick:function(){return a((function(t){return!t}))},children:Object(A["jsx"])(k["a"],{style:{paddingLeft:"8px"}})}):Object(A["jsx"])("a",{onClick:function(){return a((function(t){return!t}))},children:Object(A["jsx"])(N,{style:{paddingLeft:"8px"}})})},G=H,M=a("cMsQ"),_=a("ZhIB"),K={fillOpacity:.5,strokeOpacity:.7,shadowColor:"black",shadowBlur:10,shadowOffsetX:5,shadowOffsetY:5,cursor:"pointer"},W={size:"default",bodyStyle:{height:"360px",paddingTop:12,paddingBottom:12}},V=function(){var t=f["a"].useForm(),e=Object(j["a"])(t,1),a=e[0],n=Object(b["useState"])(!0),c=Object(j["a"])(n,2),o=c[0],r=c[1],i=Object(b["useState"])([]),l=Object(j["a"])(i,2),O=l[0],y=l[1],S=Object(b["useState"])(0),P=Object(j["a"])(S,2),T=P[0],I=P[1],E=Object(b["useState"])("\u4e07"),w=Object(j["a"])(E,2),k=w[0],Y=w[1],C=Object(b["useState"])(0),D=Object(j["a"])(C,2),R=D[0],B=D[1],N=Object(b["useState"])(0),H=Object(j["a"])(N,2),M=H[0],V=H[1],Z=Object(b["useState"])(!1),J=Object(j["a"])(Z,2),q=J[0],U=J[1],Q=function(t,e){var a=["count.agreementId","sum.amount","sum.planCanpaymentAmount","sum.paymentDetailAmount","wavg.paymentDetailPercent"],n=Object(g["i"])(a),c=Object(j["a"])(n,5),o=c[0],i=c[1],l=c[2],u=c[3],d=c[4],f=[];e||f.push({property_:{moduleName:"PmAgreement",fieldahead:"pmAgreementState"},operator:"<",value:"90"}),t&&f.push({property_:{moduleName:"PmAgreement",fieldahead:"pmProject.pmGlobal.FOrganization"},operator:"startwith",value:t}),Object(h["default"])("".concat(h["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(x["serialize"])(Object(v["F"])({moduleName:"PmAgreement",fields:a,navigatefilters:f.length?f:null}))}).then((function(t){if(t[0]){var e=t[0],a=1e4;e[i]>1e9?(Y("\u4ebf"),a=1e8):(Y("\u4e07"),a=1e4),I(e[o]||0),B(e[d]||0),V((e[i]||0)/a),y([{type:"\u5408\u540c\u7ed3\u7b97\u91d1\u989d",value:e[i]||0,group:"1"},{type:"\u4e0d\u53ef\u652f\u4ed8\u8ba1\u5212",value:e[i]-e[l]||0,group:"2"},{type:"\u53ef\u652f\u4ed8\u8ba1\u5212",value:e[l]||0,group:"2"},{type:"\u4e0d\u53ef\u8bf7\u6b3e\u91d1\u989d",value:e[i]-e[l]||0,group:"3"},{type:"\u53ef\u8bf7\u6b3e\u91d1\u989d",value:e[l]-e[u]||0,group:"3"},{type:"\u5df2\u652f\u4ed8\u91d1\u989d",value:e[u]||0,group:"3"}].map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{value:parseFloat(_(t.value/a).format("0.00"))})})))}r(!1)}))},L=function(){var t=a.getFieldsValue();Q(t.orgid,t.containerFinished)},X={data:O,loading:o,columnWidthRatio:.7,isStack:!0,xField:"group",yField:"value",seriesField:"type",columnStyle:K,meta:{group:{alias:"\u7c7b\u522b",formatter:function(){return null}},value:{alias:"\u91d1\u989d",formatter:function(t){return _(t).format("0,0")+k}}},tooltip:{title:"\u9879\u76ee\u5408\u540c: ".concat(T," \u4e2a"),formatter:function(t){return{name:t.type,value:_(t.value).format("0,0.00")+k}}},label:{position:"middle",layout:[{type:"interval-adjust-position"},{type:"adjust-color"}],formatter:function(t){if(!M||!t.value||t.value<=0||t.value/M<.08)return"";var e="".concat(t.type,"\n").concat(_(t.value).format("0,0.00")).concat(k);return"\u5df2\u652f\u4ed8\u91d1\u989d"===t.type?"".concat(e,"\n( ").concat(_(R).format("0.00%")," )"):e}}};return Object(b["useEffect"])((function(){setTimeout((function(){Q(null,!1)}),0)}),[]),Object(A["jsx"])(u["a"],Object(s["a"])(Object(s["a"])({title:Object(A["jsxs"])(m.a.Fragment,{children:["\u9879\u76ee\u5408\u540c\u91d1\u989d\u5206\u6790\u56fe",Object(A["jsx"])(G,{showGrid:q,setShowGrid:U})]})},W),{},{extra:Object(A["jsxs"])(f["a"],{form:a,layout:"inline",style:{width:"400px",display:"flex"},children:[Object(A["jsx"])("span",{style:{flex:1},children:Object(A["jsx"])(F,{callback:function(){L()}})}),Object(A["jsx"])(f["a"].Item,{name:"containerFinished",valuePropName:"checked",children:Object(A["jsx"])(d["a"],{checkedChildren:"\u542b\u5df2\u5b8c\u6210\u5408\u540c",unCheckedChildren:"\u4e0d\u542b\u5df2\u5b8c\u6210\u5408\u540c",defaultChecked:!1,onChange:function(){L()}})})]}),children:q?Object(A["jsx"])(z,{data:O,unitText:k}):Object(A["jsx"])(p["a"],Object(s["a"])({},X))}))},Z=function(){var t=f["a"].useForm(),e=Object(j["a"])(t,1),a=e[0],n=Object(b["useState"])([]),c=Object(j["a"])(n,2),o=c[0],r=c[1],i=Object(b["useState"])(""),d=Object(j["a"])(i,2),p=d[0],y=d[1],S=Object(b["useState"])(!0),P=Object(j["a"])(S,2),T=P[0],F=P[1],I=Object(b["useState"])(!1),E=Object(j["a"])(I,2),w=E[0],k=E[1],Y=Object(b["useState"])({}),C=Object(j["a"])(Y,2),D=C[0],R=C[1],B=["count.agreementId","sum.singAmount","sum.amount"],N=Object(g["i"])(B),H=Object(j["a"])(N,3),M=H[0],K=H[1],V=H[2],Z=[{label:"\u5408\u540c\u4e2a\u6570",value:"count",fieldname:M,unitText:"\u4e2a",unit:1},{label:"\u5408\u540c\u7ed3\u7b97\u91d1\u989d",value:"amount",fieldname:V,unitText:"\u4e07\u5143",unit:1e4},{label:"\u5408\u540c\u7b7e\u8ba2\u91d1\u989d",value:"signAmount",fieldname:K,unitText:"\u4e07\u5143",unit:1e4}],J=[{label:"\u5408\u540c\u7b7e\u8ba2\u5e74\u5ea6",value:"signyear",groupfieldid:{fieldname:"singDate",function:"yyyy\u5e74"},sortby:"label"},{label:"\u5408\u540c\u7b7e\u8ba2\u91d1\u989d",value:"singAmount",groupfieldid:{fieldname:"singAmount",function:"\u6309\u6570\u91cf\u7ea7\u5206\u7ec4"},sortby:"label"},{label:"\u7ba1\u7406\u90e8\u95e8",value:"FOrganization",groupfieldid:{fieldahead:"pmProject.pmGlobal.FOrganization",codelevel:"2"},sortby:"value"},{label:"\u652f\u4ed8\u5e73\u53f0",value:"pmPayorg",groupfieldid:{fieldahead:"pmPayorg"},sortby:"value"},{label:"\u6210\u672c\u7c7b\u578b",value:"pmAgreementCostType",groupfieldid:{fieldahead:"pmAgreementCostType"},sortby:"value"},{label:"\u9884\u7b97\u7c7b\u578b",value:"pmAgreementBudgetType",groupfieldid:{fieldahead:"pmAgreementBudgetType"},sortby:"value"},{label:"\u5de5\u7a0b\u7c7b\u578b",value:"pmAgreementClassType",groupfieldid:{fieldahead:"pmAgreementClassType"},sortby:"value"},{label:"\u5408\u540c\u72b6\u6001",value:"pmAgreementState",groupfieldid:{fieldahead:"pmAgreementState"},sortby:"value"}],q=function(){F(!0);var t=a.getFieldsValue(),e=J.find((function(e){return e.value===(t.grouptype||J[0].value)})),n=Z.find((function(e){return e.value===(t.indextype||Z[0].value)}));R({indextype:n,grouptype:e}),y(n.unitText),Object(h["default"])("".concat(h["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(x["serialize"])(Object(v["F"])({moduleName:"PmAgreement",fields:B,groupfieldid:null===e||void 0===e?void 0:e.groupfieldid}))}).then((function(t){var a=t.map((function(t){return{type:t.text,value:t[n.fieldname]/n.unit}})).sort((function(t,a){return"label"===(null===e||void 0===e?void 0:e.sortby)?t.type>a.type?-1:1:a.value-t.value}));if(a.length>10){var c=0;a.forEach((function(t,e){c+=e>=9?t.value:0})),a.splice(9,1e4,{type:"\u5176\u4ed6\u5c0f\u8ba1",value:c})}r(a),F(!1)}))};Object(b["useEffect"])((function(){setTimeout((function(){q()}),200)}),[]);var U={appendPadding:10,data:o,loading:T,angleField:"value",colorField:"type",radius:.8,innerRadius:.64,label:{type:"outer",formatter:function(t){return"".concat(_(t.value).format("0,0")+p,"(").concat(_(t.percent).format("0.00%"),")")}},statistic:{title:{formatter:function(){return"\u603b\u8ba1"},offsetY:-15},content:{formatter:function(t,e){var a=0;return e&&e.forEach((function(t){a+=t.value})),_(a).format("0,0")+p},offsetY:15,style:{fontSize:"20px"}}},interactions:[{type:"element-active"}],legend:{layout:"vertical",position:"right",animate:!0},tooltip:{formatter:function(t){return{name:t.type,value:_(t.value).format("0,0")+p}}}};return Object(A["jsx"])(u["a"],Object(s["a"])(Object(s["a"])({title:Object(A["jsxs"])(m.a.Fragment,{children:["\u9879\u76ee\u5408\u540c\u5206\u7c7b\u5206\u6790\u56fe",Object(A["jsx"])(G,{showGrid:w,setShowGrid:k})]})},W),{},{extra:Object(A["jsxs"])(f["a"],{form:a,layout:"inline",style:{width:"400px"},initialValues:{indextype:"count",grouptype:"signyear"},children:[Object(A["jsx"])(f["a"].Item,{label:"\u6307\u6807",name:"indextype",style:{flex:1},children:Object(A["jsx"])(l["a"],{options:Z,onChange:q})}),Object(A["jsx"])(f["a"].Item,{label:"\u5206\u7ec4",name:"grouptype",style:{flex:1},children:Object(A["jsx"])(l["a"],{options:J,onChange:q})})]}),children:w?Object(A["jsx"])(z,{data:o,unitText:p,typeTitle:D.grouptype.label,valueTitle:D.indextype.label}):Object(A["jsx"])(O["a"],Object(s["a"])({},U))}))},J=function(){var t=Object(b["useState"])(!0),e=Object(j["a"])(t,2),a=e[0],n=e[1],c=Object(b["useState"])([]),o=Object(j["a"])(c,2),r=o[0],i=o[1],l=["count.agreementId","sum.singAmount"],u=Object(g["i"])(l),d=Object(j["a"])(u,2),f=d[0],m=d[1],p=function(){Object(h["default"])("".concat(h["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(x["serialize"])(Object(v["F"])({moduleName:"PmAgreement",fields:l,groupfieldid:{fieldname:"singDate",function:"yyyy\u5e74mm\u6708"}}))}).then((function(t){i(t.map((function(t){return{type:t.text?t.text.substr(2):t.text,value:parseInt(_(t[m]/1e4).format("0"),10),count:t[f]}})).sort((function(t,e){return t.type>e.type?1:-1})).filter((function(t,e,a){return a.length-e<=12}))),n(!1)}))},O={loading:a,data:[r,r],xField:"type",yField:["value","count"],xAxis:{label:{autoRotate:!1}},slider:{start:r.length>13?1-12/r.length:0,end:1},label:{position:"top",formatter:function(t){return"".concat(_(t.value).format("0,0"),"\u4e07\u5143")}},meta:{count:{alias:"\u5408\u540c\u4e2a\u6570",formatter:function(t){return"".concat(t,"\u4e2a")}},value:{alias:"\u5408\u540c\u7b7e\u8ba2\u91d1\u989d",formatter:function(t){return"".concat(_(t).format("0,0"),"\u4e07\u5143")}}},geometryOptions:[{geometry:"column",columnStyle:K,label:{position:"top",formatter:function(t){return"".concat(_(t.value).format("0,0"),"\u4e07\u5143")}}},{geometry:"line",lineStyle:{lineWidth:2}}]};return Object(b["useEffect"])((function(){setTimeout((function(){p()}),400)}),[]),Object(A["jsx"])(y["a"],Object(s["a"])({},O))},q=function(){var t=Object(A["jsxs"])(r["a"],{gutter:[12,12],children:[Object(A["jsx"])(i["a"],Object(s["a"])(Object(s["a"])({},M["chartsColSpan"]),{},{children:Object(A["jsx"])(V,{})})),Object(A["jsx"])(i["a"],Object(s["a"])(Object(s["a"])({},M["chartsColSpan"]),{},{children:Object(A["jsx"])(Z,{})})),Object(A["jsx"])(i["a"],{span:24,children:Object(A["jsx"])(u["a"],Object(s["a"])(Object(s["a"])({title:"\u9879\u76ee\u5408\u540c\u4e00\u5e74\u5185\u7b7e\u8ba2\u4e2a\u6570\u3001\u7b7e\u8ba2\u91d1\u989d\u5206\u6790\u56fe"},W),{},{children:Object(A["jsx"])(J,{})}))})]});return t},U=a("oBTY"),Q=a("wd/R"),L=a.n(Q),X=a("ZhIB"),$={fillOpacity:.5,strokeOpacity:.7,shadowColor:"black",shadowBlur:10,shadowOffsetX:5,shadowOffsetY:5,cursor:"pointer"},tt={size:"default",bodyStyle:{height:"360px",paddingTop:12,paddingBottom:12}},et=function(){var t=Object(b["useState"])(!0),e=Object(j["a"])(t,2),a=e[0],n=e[1],c=Object(b["useState"])([]),o=Object(j["a"])(c,2),r=o[0],i=o[1],l=JSON.stringify(["sum.nopayAmount"]),d=Object(g["h"])("sum.nopayAmount"),f=function(){Object(h["default"])("".concat(h["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(x["serialize"])(Object(v["F"])({moduleName:"PmAgreementPlan",fields:l,groupfieldid:{fieldname:"date",function:"yyyy\u5e74"}}))}).then((function(t){var e=0,a=t.map((function(t){return{type:t.text,value:parseInt(X(t[d]/1e4).format("0"),10),group:"\u5f53\u5e74\u5ea6"}})).sort((function(t,e){return t.type>e.type?1:-1})).filter((function(t){return t.type>="".concat(parseInt(L()().format("YYYY"),10))||(e+=t.value,!1)})),c=Object(U["a"])(a);e>0&&c.splice(0,0,{type:"".concat(parseInt(L()().format("YYYY"),10),"\u5e74\u524d"),value:e,group:"\u5f53\u5e74\u5ea6"}),a.forEach((function(t){c.push({type:t.type,value:e,group:"\u4ee5\u524d\u5e74\u5ea6\u7ed3\u8f6c"}),e+=t.value})),i(c),n(!1)}))},m={loading:a,data:r,isStack:!0,xField:"type",yField:"value",seriesField:"group",columnWidthRatio:.618,xAxis:{label:{autoRotate:!1}},columnStyle:$,legend:{layout:"horizontal",position:"bottom"},label:{position:"middle",formatter:function(t){return t.value>10?"".concat(X(t.value).format("0,0"),"\u4e07"):""}},tooltip:{formatter:function(t){return{name:t.group,value:"".concat(X(t.value).format("0,0"),"\u4e07\u5143")}}}};return Object(b["useEffect"])((function(){setTimeout((function(){f()}),200)}),[]),Object(A["jsx"])(u["a"],Object(s["a"])(Object(s["a"])({title:"\u6839\u636e\u4ed8\u6b3e\u8ba1\u5212\u6d4b\u7b97\u7684\u5e74\u5ea6\u4ed8\u6b3e\u538b\u529b(\u9690\u6027\u503a\u52a1)\u67f1\u72b6\u56fe"},tt),{},{children:Object(A["jsx"])(p["a"],Object(s["a"])({},m))}))},at=["sum.planAmount","sum.alreadyAmount","sum.nopayAmount"],nt=Object(g["i"])(at),ct=Object(j["a"])(nt,3),ot=ct[0],rt=ct[1],it=ct[2],lt=function(){var t=Object(b["useState"])(!0),e=Object(j["a"])(t,2),a=e[0],n=e[1],c=Object(b["useState"])([]),o=Object(j["a"])(c,2),r=o[0],i=o[1],l=function(){Object(h["default"])("".concat(h["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(x["serialize"])(Object(v["F"])({moduleName:"PmAgreementPlan",fields:at,groupfieldid:{fieldname:"date",function:"yyyy\u5e74"}}))}).then((function(t){var e=t.map((function(t){return{type:t.text,value:parseInt(X(t[ot]/1e4).format("0"),10),payout:parseInt(X(t[rt]/1e4).format("0"),10),remain:parseInt(X(t[it]/1e4).format("0"),10)}})).sort((function(t,e){return t.type>e.type?1:-1})).filter((function(t){return t.type>"".concat(parseInt(L()().format("YYYY"),10)-7)})),a=[];e.forEach((function(t){a.push({type:t.type,group:"\u8ba1\u5212\u5df2\u652f\u4ed8\u91d1\u989d",value:t.payout}),a.push({type:t.type,group:"\u8ba1\u5212\u672a\u652f\u4ed8\u91d1\u989d",value:t.remain})})),i(a),n(!1)}))},d={loading:a,data:r,isStack:!0,xField:"type",yField:"value",seriesField:"group",columnWidthRatio:.618,xAxis:{label:{autoRotate:!1}},columnStyle:$,legend:{layout:"horizontal",position:"bottom"},label:{position:"middle",formatter:function(t){return t.value>10?"".concat(X(t.value).format("0,0"),"\u4e07"):""}},tooltip:{formatter:function(t){return{name:t.group,value:"".concat(X(t.value).format("0,0"),"\u4e07\u5143")}}}};return Object(b["useEffect"])((function(){setTimeout((function(){l()}),400)}),[]),Object(A["jsx"])(u["a"],Object(s["a"])(Object(s["a"])({title:"\u9879\u76ee\u5408\u540c\u5e74\u5ea6\u8ba1\u5212\u652f\u4ed8\u60c5\u51b5\u67f1\u72b6\u56fe"},tt),{},{children:Object(A["jsx"])(p["a"],Object(s["a"])({},d))}))},ut=function(){var t=Object(b["useState"])(!0),e=Object(j["a"])(t,2),a=e[0],n=e[1],c=Object(b["useState"])([]),o=Object(j["a"])(c,2),r=o[0],i=o[1],l=function(){Object(h["default"])("".concat(h["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(x["serialize"])(Object(v["F"])({moduleName:"PmAgreementPlan",fields:["sum.planAmount"],groupfieldid:{fieldname:"date",function:"yyyy\u5e74"}}))}).then((function(t){i(t.map((function(t){return{type:t.text,value:parseInt(X(t[ot]/1e4).format("0"),10)}})).sort((function(t,e){return t.type>e.type?1:-1}))),n(!1)}))},d=function(){return r.length>13?Math.max((r.findIndex((function(t){return t.type>L()().format("YYYY")}))-2)/r.length,0):0},f=function(){return r.length>13?(r.findIndex((function(t){return t.type>L()().format("YYYY")}))+8)/r.length:1},m={loading:a,data:r,xField:"type",yField:"value",columnWidthRatio:.618,xAxis:{label:{autoRotate:!1}},slider:{start:d(),end:f()},columnStyle:$,label:{position:"top",formatter:function(t){return"".concat(X(t.value).format("0,0"),"\u4e07\u5143")}},tooltip:{formatter:function(t){return{name:"\u8ba1\u5212\u91d1\u989d",value:"".concat(X(t.value).format("0,0"),"\u4e07\u5143")}}},meta:{type:{alias:"\u5e74\u6708"},value:{alias:"\u8ba1\u5212\u91d1\u989d",formatter:function(t){return"".concat(X(t).format("0,0"),"\u4e07\u5143")}}}};return Object(b["useEffect"])((function(){setTimeout((function(){l()}),600)}),[]),Object(A["jsx"])(u["a"],Object(s["a"])(Object(s["a"])({title:"\u9879\u76ee\u5408\u540c\u5e74\u5ea6\u4ed8\u6b3e\u8ba1\u5212\u67f1\u72b6\u56fe"},tt),{},{children:Object(A["jsx"])(p["a"],Object(s["a"])({},m))}))},dt=function(){var t=Object(b["useState"])(!0),e=Object(j["a"])(t,2),a=e[0],n=e[1],c=Object(b["useState"])([]),o=Object(j["a"])(c,2),r=o[0],i=o[1],l=function(){Object(h["default"])("".concat(h["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(x["serialize"])(Object(v["F"])({moduleName:"PmAgreementPlan",fields:["sum.planAmount"],groupfieldid:{fieldname:"date",function:"yyyy\u5e74mm\u6708"}}))}).then((function(t){i(t.map((function(t){return{type:t.text,value:parseInt(X(t[ot]/1e4).format("0"),10)}})).sort((function(t,e){return t.type>e.type?1:-1}))),n(!1)}))},d=function(){return r.length>13?(r.findIndex((function(t){return t.type.startsWith(L()().format("YYYY"))}))+1)/r.length:0},f=function(){return r.length>13?(r.findIndex((function(t){return t.type.startsWith(L()().format("YYYY"))}))+12)/r.length:1},m={loading:a,data:r,xField:"type",yField:"value",columnWidthRatio:.618,xAxis:{label:{autoRotate:!1}},slider:{start:d(),end:f()},columnStyle:$,label:{position:"top",formatter:function(t){return"".concat(X(t.value).format("0,0"),"\u4e07\u5143")}},tooltip:{formatter:function(t){return{name:"\u8ba1\u5212\u91d1\u989d",value:"".concat(X(t.value).format("0,0"),"\u4e07\u5143")}}},meta:{type:{alias:"\u5e74\u6708"},value:{alias:"\u8ba1\u5212\u91d1\u989d",formatter:function(t){return"".concat(X(t).format("0,0"),"\u4e07\u5143")}}}};return Object(b["useEffect"])((function(){setTimeout((function(){l()}),800)}),[]),Object(A["jsx"])(u["a"],Object(s["a"])(Object(s["a"])({title:"\u9879\u76ee\u5408\u540c\u6708\u5ea6\u4ed8\u6b3e\u8ba1\u5212\u67f1\u72b6\u56fe"},tt),{},{children:Object(A["jsx"])(p["a"],Object(s["a"])({},m))}))},st=function(){return Object(A["jsxs"])(r["a"],{gutter:[12,12],children:[Object(A["jsx"])(i["a"],{span:24,children:Object(A["jsx"])(et,{})}),Object(A["jsx"])(i["a"],{span:24,children:Object(A["jsx"])(lt,{})}),Object(A["jsx"])(i["a"],{span:24,children:Object(A["jsx"])(ut,{})}),Object(A["jsx"])(i["a"],{span:24,children:Object(A["jsx"])(dt,{})})]})},ft=(a("7Kak"),a("9yH6")),jt=a("jE+T"),bt=a("1rta"),mt=a("ZhIB"),pt={fillOpacity:.5,strokeOpacity:.7,shadowColor:"black",shadowBlur:10,shadowOffsetX:5,shadowOffsetY:5,cursor:"pointer"},Ot={size:"default",bodyStyle:{height:"360px",paddingTop:12,paddingBottom:12}},yt=Object(g["h"])("sum.factMoney"),ht=function(){var t=Object(b["useState"])([]),e=Object(j["a"])(t,2),a=e[0],n=e[1],c=Object(b["useState"])(!0),o=Object(j["a"])(c,2),r=o[0],i=o[1],l=Object(b["useState"])(!1),d=Object(j["a"])(l,2),f=d[0],p=d[1],y=Object(b["useState"])([null,null]),g=Object(j["a"])(y,2),S=g[0],P=g[1],T=function(){i(!0);var t=[],e=Object(j["a"])(S,2),a=e[0],c=e[1];(a||c)&&t.push({property:"factDate",operator:"daysection",searchfor:"date",value:"".concat(a?L()(a).format(jt["a"]):"","--").concat(c?L()(c).format(jt["a"]):"")}),Object(h["default"])("".concat(h["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(x["serialize"])(Object(v["F"])({moduleName:"PmPaymentDetail",fields:["count.*","sum.factMoney"],groupfieldid:{fieldahead:"pmPayment.pmAgreement.pmProject.pmGlobal.FOrganization",codelevel:"2"},navigatefilters:t}))}).then((function(t){n(t.map((function(t){return{type:t.text,value:parseInt(mt(t[yt]/1e4).format("0"),10)}})).sort((function(t,e){return e.value-t.value}))),i(!1)}))},F={appendPadding:10,data:a,loading:r,angleField:"value",colorField:"type",radius:.8,innerRadius:.64,label:{type:"outer",formatter:function(t){return"".concat(mt(t.value).format("0,0"),"\u4e07\u5143(").concat(mt(t.percent).format("0.00%"),")")}},statistic:{title:{formatter:function(){return"\u603b\u8ba1"},offsetY:-15},content:{formatter:function(t,e){var a=0;return e&&e.forEach((function(t){a+=t.value})),"".concat(mt(a).format("0,0"),"\u4e07\u5143")},offsetY:15,style:{fontSize:"18px"}}},interactions:[{type:"element-active"}],legend:{layout:"vertical",position:"right",animate:!0},tooltip:{formatter:function(t){return{name:t.type,value:"".concat(mt(t.value).format("0,0"),"\u4e07\u5143")}}}};return Object(b["useEffect"])((function(){T()}),[S]),Object(A["jsx"])(u["a"],Object(s["a"])(Object(s["a"])({title:Object(A["jsxs"])(m.a.Fragment,{children:["\u90e8\u95e8\u7d2f\u8ba1\u652f\u4ed8\u603b\u989d",Object(A["jsx"])(G,{showGrid:f,setShowGrid:p})]})},Ot),{},{extra:Object(A["jsx"])(bt["a"],{dateSection:S,setDateSection:P}),children:f?Object(A["jsx"])(z,{data:a,unitText:"\u4e07\u5143",typeTitle:"\u7ba1\u7406\u90e8\u95e8",valueTitle:"\u7d2f\u8ba1\u652f\u4ed8\u91d1\u989d"}):Object(A["jsx"])(O["a"],Object(s["a"])({},F))}))},xt=function(){var t=Object(b["useState"])([]),e=Object(j["a"])(t,2),a=e[0],n=e[1],c=Object(b["useState"])(!0),o=Object(j["a"])(c,2),r=o[0],i=o[1],l=Object(b["useState"])(!1),d=Object(j["a"])(l,2),f=d[0],p=d[1],y=Object(b["useState"])([null,null]),g=Object(j["a"])(y,2),S=g[0],P=g[1],T=function(){i(!0);var t=[],e=Object(j["a"])(S,2),a=e[0],c=e[1];(a||c)&&t.push({property:"factDate",operator:"daysection",searchfor:"date",value:"".concat(a?L()(a).format(jt["a"]):"","--").concat(c?L()(c).format(jt["a"]):"")}),Object(h["default"])("".concat(h["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(x["serialize"])(Object(v["F"])({moduleName:"PmPaymentDetail",fields:["count.*","sum.factMoney"],groupfieldid:{fieldahead:"pmPayment.pmAgreement.pmPayorg"},navigatefilters:t}))}).then((function(t){n(t.map((function(t){return{type:t.text,value:parseInt(mt(t[yt]/1e4).format("0"),10)}})).sort((function(t,e){return e.value-t.value}))),i(!1)}))},F={appendPadding:10,data:a,loading:r,angleField:"value",colorField:"type",radius:.8,innerRadius:.64,label:{type:"outer",formatter:function(t){return"".concat(mt(t.value).format("0,0"),"\u4e07\u5143(").concat(mt(t.percent).format("0.00%"),")")}},statistic:{title:{formatter:function(){return"\u603b\u8ba1"},offsetY:-15},content:{formatter:function(t,e){var a=0;return e&&e.forEach((function(t){a+=t.value})),"".concat(mt(a).format("0,0"),"\u4e07\u5143")},offsetY:15,style:{fontSize:"18px"}}},interactions:[{type:"element-active"}],legend:{layout:"vertical",position:"right",animate:!0},tooltip:{formatter:function(t){return{name:t.type,value:"".concat(mt(t.value).format("0,0"),"\u4e07\u5143")}}}};return Object(b["useEffect"])((function(){T()}),[S]),Object(A["jsx"])(u["a"],Object(s["a"])(Object(s["a"])({title:Object(A["jsxs"])(m.a.Fragment,{children:["\u652f\u4ed8\u5e73\u53f0\u7d2f\u8ba1\u652f\u4ed8\u603b\u989d",Object(A["jsx"])(G,{showGrid:f,setShowGrid:p})]})},Ot),{},{extra:Object(A["jsx"])(bt["a"],{dateSection:S,setDateSection:P}),children:f?Object(A["jsx"])(z,{data:a,unitText:"\u4e07\u5143",typeTitle:"\u652f\u4ed8\u5e73\u53f0",valueTitle:"\u7d2f\u8ba1\u652f\u4ed8\u91d1\u989d"}):Object(A["jsx"])(O["a"],Object(s["a"])({},F))}))},gt=[{text:"\u6708\u5ea6",value:"yyyy\u5e74mm\u6708"},{text:"\u5e74\u5ea6",value:"yyyy\u5e74"},{text:"\u5b63\u5ea6",value:"yyyy\u5e74n\u5b63\u5ea6"}],vt=function(t){var e=Object(b["useState"])(!0),a=Object(j["a"])(e,2),n=a[0],c=a[1],o=Object(b["useState"])([]),r=Object(j["a"])(o,2),i=r[0],l=r[1],d=Object(b["useState"])(gt[0].value||""),f=Object(j["a"])(d,2),m=f[0],O=f[1],y=function(){c(!0),Object(h["default"])("".concat(h["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(x["serialize"])(Object(v["F"])({moduleName:"PmPaymentDetail",fields:["count.*","sum.factMoney"],groupfieldid:{fieldname:"factDate",function:m}}))}).then((function(t){l(t.map((function(t){return{type:t.text,value:parseInt(mt(t[yt]/1e4).format("0"),10)}})).sort((function(t,e){return t.type>e.type?1:-1}))),c(!1)}))},g={loading:n,data:i,xField:"type",yField:"value",columnWidthRatio:.618,xAxis:{label:{autoRotate:!1}},slider:{start:i.length>13?1-12/i.length:0,end:1},columnStyle:pt,label:{position:"top",formatter:function(t){return"".concat(mt(t.value).format("0,0"),"\u4e07\u5143")}},tooltip:{formatter:function(t){return{name:"\u652f\u4ed8\u91d1\u989d",value:"".concat(mt(t.value).format("0,0"),"\u4e07\u5143")}}},meta:{type:{alias:"\u5e74\u6708"},value:{alias:"\u652f\u4ed8\u91d1\u989d",formatter:function(t){return"".concat(mt(t).format("0,0"),"\u4e07\u5143")}}}};return Object(b["useEffect"])((function(){y()}),[m]),Object(A["jsx"])(u["a"],Object(s["a"])(Object(s["a"])({title:Object(A["jsxs"])(A["Fragment"],{children:[Object(A["jsx"])("span",{children:"\u9879\u76ee\u5408\u540c"}),Object(A["jsx"])(ft["a"].Group,{value:m,size:"small",style:{margin:"0px 8px",fontWeight:400},onChange:function(t){O(t.target.value)},children:gt.map((function(t){return Object(A["jsx"])(ft["a"].Button,{value:t.value,children:t.text},t.value)}))}),Object(A["jsx"])("span",{children:"\u5df2\u4ed8\u91d1\u989d\u67f1\u72b6\u56fe"})]})},t),{},{children:Object(A["jsx"])(p["a"],Object(s["a"])({},g))}))},St=function(){return Object(A["jsxs"])(r["a"],{gutter:[12,12],children:[Object(A["jsx"])(i["a"],Object(s["a"])(Object(s["a"])({},M["chartsColSpan"]),{},{children:Object(A["jsx"])(ht,{})})),Object(A["jsx"])(i["a"],Object(s["a"])(Object(s["a"])({},M["chartsColSpan"]),{},{children:Object(A["jsx"])(xt,{})})),Object(A["jsx"])(i["a"],{span:24,children:Object(A["jsx"])(vt,Object(s["a"])({},Ot))})]})},Pt=a("jrin"),At=a("xo9f"),Tt=a("sUHU"),Ft=a("ZhIB"),It={size:"default",bodyStyle:{height:"360px",paddingTop:12,paddingBottom:12}},Et=Object(g["h"])("count.*"),wt=function(){var t=Object(b["useState"])([]),e=Object(j["a"])(t,2),a=e[0],n=e[1],c=Object(b["useState"])(!0),o=Object(j["a"])(c,2),r=o[0],i=o[1],l=Object(b["useState"])(!1),d=Object(j["a"])(l,2),f=d[0],p=d[1],y=Object(b["useState"])([null,null]),g=Object(j["a"])(y,2),S=g[0],P=g[1],T=function(){i(!0);var t=[],e=Object(j["a"])(S,2),a=e[0],c=e[1];(a||c)&&t.push({property:"actEndTime",operator:"daysection",searchfor:"date",value:"".concat(a?L()(a).format(jt["a"]):"","--").concat(c?L()(c).format(jt["a"]):"")}),Object(h["default"])("".concat(h["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(x["serialize"])(Object(v["F"])({moduleName:"PmApproveProject2",fields:["count.*"],groupfieldid:{fieldahead:"pmProject.pmGlobal.FOrganization",codelevel:"2"},navigatefilters:t}))}).then((function(t){n(t.map((function(t){return{type:t.text,value:t[Et]}})).sort((function(t,e){return e.value-t.value}))),i(!1)}))},F={appendPadding:10,data:a,loading:r,angleField:"value",colorField:"type",radius:.9,innerRadius:.64,label:{type:"outer",formatter:function(t){return"".concat(Ft(t.value).format("0,0"),"\u4e2a(").concat(Ft(t.percent).format("0.00%"),")")}},statistic:{title:{formatter:function(){return"\u603b\u8ba1"},offsetY:-15},content:{formatter:function(t,e){var a=0;return e&&e.forEach((function(t){a+=t.value})),"".concat(Ft(a).format("0,0"),"\u4e2a")},offsetY:15}},interactions:[{type:"element-active"}],legend:{layout:"vertical",position:"right",animate:!0},tooltip:{formatter:function(t){return{name:t.type,value:"".concat(Ft(t.value).format("0,0"),"\u4e2a\n")}}}};return Object(b["useEffect"])((function(){T()}),[S]),Object(A["jsx"])(u["a"],Object(s["a"])(Object(s["a"])({title:Object(A["jsxs"])(m.a.Fragment,{children:["\u5408\u540c\u6587\u4ef6\u5ba1\u6279\u8868\u90e8\u95e8\u5ba1\u6279",Object(A["jsx"])(G,{showGrid:f,setShowGrid:p})]})},It),{},{extra:Object(A["jsx"])(bt["a"],{dateSection:S,setDateSection:P}),children:f?Object(A["jsx"])(z,{data:a,unitText:"\u4e2a",typeTitle:"\u7ba1\u7406\u90e8\u95e8",valueTitle:"\u6587\u4ef6\u6570"}):Object(A["jsx"])(O["a"],Object(s["a"])({},F))}))},zt=function(){var t=Object(b["useState"])([]),e=Object(j["a"])(t,2),a=e[0],n=e[1],c=Object(b["useState"])(!0),o=Object(j["a"])(c,2),r=o[0],i=o[1],l=Object(b["useState"])(!1),d=Object(j["a"])(l,2),f=d[0],p=d[1],O=function(){Object(h["default"])("".concat(h["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(x["serialize"])(Object(v["F"])({moduleName:"PmApproveProject2",fields:["count.*"],groupfieldid:{fieldname:"actEndTime",function:"yyyy\u5e74"}}))}).then((function(t){n(t.map((function(t){return{type:"\u7a7a"===t.text?"\u5c1a\u672a\u5ba1\u6279":t.text,value:t[Et]}})).sort((function(t,e){return t.type>e.type?-1:1}))),i(!1)}))},y={appendPadding:10,data:a,loading:r,xField:"type",yField:"value",seriesField:"type",radius:.9,tooltip:{formatter:function(t){return{name:t.type,value:"".concat(Ft(t.value).format("0,0"),"\u4e2a\n")}}},label:{offset:15},interactions:[{type:"element-active"}]};return Object(b["useEffect"])((function(){setTimeout((function(){O()}),400)}),[]),Object(A["jsx"])(u["a"],Object(s["a"])(Object(s["a"])({title:Object(A["jsxs"])(m.a.Fragment,{children:["\u5408\u540c\u6587\u4ef6\u5ba1\u6279\u8868\u5e74\u5ea6\u5ba1\u6279",Object(A["jsx"])(G,{showGrid:f,setShowGrid:p})]})},It),{},{children:f?Object(A["jsx"])(z,{data:a,unitText:"\u4e2a",typeTitle:"\u5e74\u5ea6",valueTitle:"\u6587\u4ef6\u6570"}):Object(A["jsx"])(At["a"],Object(s["a"])({},y))}))},kt=function(t){var e=Object(b["useState"])(!0),a=Object(j["a"])(e,2),n=a[0],c=a[1],o=Object(b["useState"])([]),r=Object(j["a"])(o,2),i=r[0],l=r[1],d=Object(b["useState"])(!0),f=Object(j["a"])(d,2),m=f[0],p=f[1],O=function(){var t;c(!0),Object(h["default"])("".concat(h["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(x["serialize"])(Object(v["F"])((t={moduleName:"PmApproveProject2",fields:["count.*"]},Object(Pt["a"])(t,m?"groupfieldid":"groupfieldid2",{fieldahead:"pmProject.pmGlobal.FOrganization"}),Object(Pt["a"])(t,m?"groupfieldid2":"groupfieldid",{fieldname:"actEndTime",function:"yyyy\u5e74"}),t)))}).then((function(t){var e=[];t.forEach((function(t){t.children.forEach((function(a){e.push({type:"\u7a7a"===a.text?"\u5c1a\u672a\u5ba1\u6279":a.text,org:"\u7a7a"===t.text?"\u5c1a\u672a\u5ba1\u6279":t.text,value:a[Et]})}))})),l(e.sort((function(t,e){return e.type>t.type?-1:t.type===e.type?t.value-e.value:1}))),c(!1)}))},y=Object(b["useMemo"])((function(){return{loading:n,data:i,isStack:!0,yField:"type",xField:"value",seriesField:"org",barWidthRatio:.618,xAxis:{label:{autoRotate:!1}},legend:{layout:"horizontal",position:"bottom"},tooltip:{formatter:function(t){return{name:t.org,value:"".concat(Ft(t.value).format("0,0"),"\u4e2a")}}},meta:{type:{alias:"\u5e74\u6708"},value:{alias:"\u5408\u540c\u6587\u4ef6\u5ba1\u6279",formatter:function(t){return"".concat(Ft(t).format("0,0"),"\u4e2a")}}}}}),[m,n,i]);return Object(b["useEffect"])((function(){O()}),[m]),Object(A["jsx"])(u["a"],Object(s["a"])(Object(s["a"])({title:Object(A["jsxs"])(A["Fragment"],{children:[Object(A["jsx"])("span",{children:"\u5408\u540c\u6587\u4ef6\u5ba1\u6279\u8868"}),Object(A["jsxs"])(ft["a"].Group,{value:m?"orgyear":"yearorg",size:"small",style:{margin:"0px 8px"},onChange:function(t){p("orgyear"===t.target.value)},children:[Object(A["jsx"])(ft["a"].Button,{value:"orgyear",children:"\u90e8\u95e8\u5e74\u5ea6"}),Object(A["jsx"])(ft["a"].Button,{value:"yearorg",children:"\u5e74\u5ea6\u90e8\u95e8"})]}),Object(A["jsx"])("span",{children:"\u5ba1\u6279"})]})},t),{},{children:Object(A["jsx"])(Tt["a"],Object(s["a"])({},y))}))},Yt={fillOpacity:.5,strokeOpacity:.7,shadowColor:"black",shadowBlur:10,shadowOffsetX:5,shadowOffsetY:5,cursor:"pointer"},Ct=function(){var t=Object(b["useState"])(!0),e=Object(j["a"])(t,2),a=e[0],n=e[1],c=Object(b["useState"])([]),o=Object(j["a"])(c,2),r=o[0],i=o[1],l=function(){Object(h["default"])("".concat(h["API_HEAD"],"/platform/datamining/fetchdata.do"),{method:"POST",data:Object(x["serialize"])(Object(v["F"])({moduleName:"PmApproveProject2",fields:["count.*"],groupfieldid:{fieldname:"actEndTime",function:"yyyy\u5e74mm\u6708"}}))}).then((function(t){i(t.map((function(t){return{type:"\u7a7a"===t.text?"\u5c1a\u672a\u5ba1\u6279":t.text,value:t[Et]}})).sort((function(t,e){return t.type>e.type?1:-1}))),n(!1)}))},u={loading:a,data:r,xField:"type",yField:"value",columnWidthRatio:.618,xAxis:{label:{autoRotate:!1}},slider:{start:r.length>13?1-12/r.length:0,end:1},columnStyle:Yt,label:{position:"top",formatter:function(t){return"".concat(t.value,"\u4e2a")}},tooltip:{formatter:function(t){return{name:"\u5408\u540c\u6587\u4ef6\u5ba1\u6279\u8868",value:"".concat(t.value,"\u4e2a")}}},meta:{type:{alias:"\u5e74\u6708"},value:{alias:"\u5408\u540c\u6587\u4ef6\u5ba1\u6279\u8868",formatter:function(t){return"".concat(Ft(t).format("0,0"),"\u4e2a")}}}};return Object(b["useEffect"])((function(){setTimeout((function(){l()}),800)}),[]),Object(A["jsx"])(p["a"],Object(s["a"])({},u))},Dt=function(){return Object(A["jsxs"])(r["a"],{gutter:[12,12],children:[Object(A["jsx"])(i["a"],Object(s["a"])(Object(s["a"])({},M["chartsColSpan"]),{},{children:Object(A["jsx"])(wt,{})})),Object(A["jsx"])(i["a"],Object(s["a"])(Object(s["a"])({},M["chartsColSpan"]),{},{children:Object(A["jsx"])(zt,{})})),Object(A["jsx"])(i["a"],{span:24,children:Object(A["jsx"])(kt,Object(s["a"])({},It))}),Object(A["jsx"])(i["a"],{span:24,children:Object(A["jsx"])(u["a"],Object(s["a"])(Object(s["a"])({title:"\u5408\u540c\u6587\u4ef6\u5ba1\u6279\u8868\u6708\u5ea6\u5ba1\u6279"},It),{},{children:Object(A["jsx"])(Ct,{})}))})]})},Rt=function(){return Object(A["jsxs"])(n["a"],{children:[Object(A["jsx"])(n["a"].TabPane,{tabKey:"PmAgreement",tab:"\u9879\u76ee\u5408\u540c\u5206\u6790",className:o.a.dashboardcard,children:Object(A["jsx"])(q,{})},"PmAgreement"),Object(A["jsx"])(n["a"].TabPane,{tabKey:"PmAgreementPlan",tab:"\u5408\u540c\u4ed8\u6b3e\u8ba1\u5212\u5206\u6790",className:o.a.dashboardcard,children:Object(A["jsx"])(st,{})},"PmAgreementPlan"),Object(A["jsx"])(n["a"].TabPane,{tabKey:"PmAgreementPayout",tab:"\u5408\u540c\u4ed8\u6b3e\u5206\u6790",className:o.a.dashboardcard,children:Object(A["jsx"])(St,{})},"PmAgreementPayout"),Object(A["jsx"])(n["a"].TabPane,{tabKey:"PmAgreementApprove",tab:"\u6587\u4ef6\u5ba1\u6279\u8868\u5206\u6790",className:o.a.dashboardcard,children:Object(A["jsx"])(Dt,{})},"PmAgreementApprove")]})}}}]);