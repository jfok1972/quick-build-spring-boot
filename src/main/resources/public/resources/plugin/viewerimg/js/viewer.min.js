var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=='function'?Object.defineProperty:function(b,c,a){a=a;if(b==Array.prototype||b==Object.prototype){return}b[c]=a.value};$jscomp.getGlobal=function(a){return typeof window!='undefined'&&window===a?a:typeof global!='undefined'&&global!=null?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(i,f,j,k){if(!f){return}var a=$jscomp.global;var b=i.split('.');for(var e=0;e<b.length-1;e++){var d=b[e];if(!(d in a)){a[d]={}}a=a[d]}var g=b[b.length-1];var h=a[g];var c=f(h);if(c==h||c==null){return}$jscomp.defineProperty(a,g,{configurable:!0,writable:!0,value:c})};$jscomp.polyfill('Array.prototype.copyWithin',function(a){if(a){return a}var b=function(d,c,b){var e=this.length;d=Number(d);c=Number(c);b=Number(b!=null?b:e);if(d<c){b=Math.min(b,e);while(c<b){if(c in this){this[d++]=this[c++]}else {delete this[d++];c++}}}else {b=Math.min(b,e+c-d);d+=b-c;while(b>c){if(--b in this){this[--d]=this[b]}else {delete this[d]}}}return this};return b},'es6','es3');$jscomp.SYMBOL_PREFIX='jscomp_symbol_';$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global['Symbol']){$jscomp.global['Symbol']=$jscomp.Symbol}};$jscomp.Symbol=function(){var a=0;function Symbol(b){return $jscomp.SYMBOL_PREFIX+(b||'')+a++}return Symbol}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global['Symbol'].iterator;if(!a){a=$jscomp.global['Symbol'].iterator=$jscomp.global['Symbol']('iterator')}if(typeof Array.prototype[a]!='function'){$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}})}$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){if(b<a.length){return {done:!1,value:a[b++]}}else {return {done:!0}}})};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();var a={next:b};a[$jscomp.global['Symbol'].iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();if(a instanceof String){a=a+''}var c=0;var b={next:function(){if(c<a.length){var e=c++;return {value:d(e,a[e]),done:!1}}b.next=function(){return {done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill('Array.prototype.entries',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b,c){return [b,c]})};return b},'es6','es3');$jscomp.polyfill('Array.prototype.fill',function(a){if(a){return a}var b=function(f,c,b){var d=this.length||0;if(c<0){c=Math.max(0,d+c)}if(b==null||b>d){b=d}b=Number(b);if(b<0){b=Math.max(0,d+b)}for(var e=Number(c||0);e<b;e++){this[e]=f}return this};return b},'es6','es3');$jscomp.findInternal=function(a,d,e){if(a instanceof String){a=String(a)}var f=a.length;for(var b=0;b<f;b++){var c=a[b];if(d.call(e,c,b,a)){return {i:b,v:c}}}return {i:-1,v:void 0}};$jscomp.polyfill('Array.prototype.find',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).v};return b},'es6','es3');$jscomp.polyfill('Array.prototype.findIndex',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).i};return b},'es6','es3');$jscomp.polyfill('Array.from',function(a){if(a){return a}var b=function(b,c,g){$jscomp.initSymbolIterator();c=c!=null?c:function(d){return d};var e=[];var f=b[Symbol.iterator];if(typeof f=='function'){b=f.call(b);var h;var j=0;while(!(h=b.next()).done){e.push(c.call(g,h.value,j++))}}else {var i=b.length;for(var d=0;d<i;d++){e.push(c.call(g,b[d],d))}}return e};return b},'es6','es3');$jscomp.polyfill('Object.is',function(a){if(a){return a}var b=function(b,c){if(b===c){return b!==0||1/b===1/c}else {return b!==b&&c!==c}};return b},'es6','es3');$jscomp.polyfill('Array.prototype.includes',function(a){if(a){return a}var b=function(d,g){var c=this;if(c instanceof String){c=String(c)}var f=c.length;var b=g||0;if(b<0){b=Math.max(b+f,0)}for(;b<f;b++){var e=c[b];if(e===d||Object.is(e,d)){return !0}}return !1};return b},'es7','es3');$jscomp.polyfill('Array.prototype.keys',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b){return b})};return b},'es6','es3');$jscomp.polyfill('Array.of',function(a){if(a){return a}var b=function(b){return Array.from(arguments)};return b},'es6','es3');$jscomp.polyfill('Array.prototype.values',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(c,b){return b})};return b},'es8','es3');$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.polyfill('Promise',function(c){if(c&&!$jscomp.FORCE_POLYFILL_PROMISE){return c}function AsyncExecutor(){this.batch_=null}AsyncExecutor.prototype.asyncExecute=function(a){if(this.batch_==null){this.batch_=[];this.asyncExecuteBatch_()}this.batch_.push(a);return this};AsyncExecutor.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var e=$jscomp.global['setTimeout'];AsyncExecutor.prototype.asyncExecuteFunction=function(a){e(a,0)};AsyncExecutor.prototype.executeBatch_=function(){while(this.batch_&&this.batch_.length){var b=this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];b[a]=null;try{d()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a})};var b={PENDING:0,FULFILLED:1,REJECTED:2};var a=function(d){this.state_=b.PENDING;this.result_=undefined;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{d(a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.createResolveAndReject_=function(){var b=this;var a=!1;function firstCallWins(d){return function(e){if(!a){a=!0;d.call(b,e)}}}return {resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this){this.reject_(new TypeError('A Promise cannot resolve to itself'))}else {if(b instanceof a){this.settleSameAsPromise_(b)}else {if(isObject(b)){this.resolveToNonPromiseObj_(b)}else {this.fulfill_(b)}}}};a.prototype.resolveToNonPromiseObj_=function(b){var a=undefined;try{a=b.then}catch(f){this.reject_(f);return}if(typeof a=='function'){this.settleSameAsThenable_(a,b)}else {this.fulfill_(b)}};function isObject(a){switch(typeof a){case 'object':return a!=null;case 'function':return !0;default:return !1;}}a.prototype.reject_=function(a){this.settle_(b.REJECTED,a)};a.prototype.fulfill_=function(a){this.settle_(b.FULFILLED,a)};a.prototype.settle_=function(d,a){if(this.state_!=b.PENDING){throw new Error('Cannot settle('+d+', '+a+'): Promise already settled in state'+this.state_)}this.state_=d;this.result_=a;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){for(var a=0;a<this.onSettledCallbacks_.length;++a){d.asyncExecute(this.onSettledCallbacks_[a])}this.onSettledCallbacks_=null}};var d=new AsyncExecutor();a.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};a.prototype.settleSameAsThenable_=function(b,d){var a=this.createResolveAndReject_();try{b.call(d,a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.then=function(f,g){var b;var d;var e=new a(function(a,e){b=a;d=e});function createCallback(a,e){if(typeof a=='function'){return function(h){try{b(a(h))}catch(i){d(i)}}}else {return e}}this.callWhenSettled_(createCallback(f,b),createCallback(g,d));return e};a.prototype['catch']=function(a){return this.then(undefined,a)};a.prototype.callWhenSettled_=function(e,f){var a=this;function callback(){switch(a.state_){case b.FULFILLED:e(a.result_);break;case b.REJECTED:f(a.result_);break;default:throw new Error('Unexpected state: '+a.state_);}}if(this.onSettledCallbacks_==null){d.asyncExecute(callback)}else {this.onSettledCallbacks_.push(callback)}};function resolvingPromise(b){if(b instanceof a){return b}else {return new a(function(a,d){a(b)})}}a['resolve']=resolvingPromise;a['reject']=function(b){return new a(function(d,a){a(b)})};a['race']=function(b){return new a(function(e,f){var d=$jscomp.makeIterator(b);for(var a=d.next();!a.done;a=d.next()){resolvingPromise(a.value).callWhenSettled_(e,f)}})};a['all']=function(e){var d=$jscomp.makeIterator(e);var b=d.next();if(b.done){return resolvingPromise([])}else {return new a(function(g,h){var a=[];var f=0;function onFulfilled(b){return function(d){a[b]=d;f--;if(f==0){g(a)}}}do{a.push(undefined);f++;resolvingPromise(b.value).callWhenSettled_(onFulfilled(a.length-1),h);b=d.next()}while(!b.done)})}};return a},'es6','es3');$jscomp.polyfill('Promise.prototype.finally',function(a){if(a){return a}var b=function(b){return this.then(function(d){var c=Promise.resolve(b());return c.then(function(){return d})},function(d){var c=Promise.resolve(b());return c.then(function(){throw d})})};return b},'es9','es3');$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0};var a={};try{a.__proto__=b;return a.a}catch(c){}return !1};$jscomp.setPrototypeOf=typeof Object.setPrototypeOf=='function'?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b){throw new TypeError(a+' is not extensible')}return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(a instanceof Object){return}throw new TypeError('Iterator result '+a+' is not an object')};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=undefined;this.nextAddress=1;this.catchAddress_=0;this.finallyAddress_=0;this.abruptCompletion_=null;this.finallyContexts_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_){throw new TypeError('Generator is already running')}this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype['return']=function(a){this.abruptCompletion_={'return':a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(b,a){this.nextAddress=a;return {value:b}};$jscomp.generator.Context.prototype.yieldAll=function(d,b){var c=$jscomp.makeIterator(d);var a=c.next();$jscomp.generator.ensureIteratorResultIsObject_(a);if(a.done){this.yieldResult=a.value;this.nextAddress=b;return}this.yieldAllIterator_=c;return this.yield(a.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(b,a){this.catchAddress_=b;if(a!=undefined){this.finallyAddress_=a}};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(b,a){this.nextAddress=b;this.catchAddress_=a||0};$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;var b=this.abruptCompletion_.exception;this.abruptCompletion_=null;return b};$jscomp.generator.Context.prototype.enterFinallyBlock=function(c,b,a){if(!a){this.finallyContexts_=[this.abruptCompletion_]}else {this.finallyContexts_[a]=this.abruptCompletion_}this.catchAddress_=c||0;this.finallyAddress_=b||0};$jscomp.generator.Context.prototype.leaveFinallyBlock=function(d,c){var b=this.finallyContexts_.splice(c||0)[0];var a=this.abruptCompletion_=this.abruptCompletion_||b;if(a){if(a.isException){return this.jumpToErrorHandler_()}if(a.jumpTo!=undefined&&this.finallyAddress_<a.jumpTo){this.nextAddress=a.jumpTo;this.abruptCompletion_=null}else {this.nextAddress=this.finallyAddress_}}else {this.nextAddress=d}};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a){this.properties_.push(b)}this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){while(this.properties_.length>0){var a=this.properties_.pop();if(a in this.object_){return a}}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context();this.program_=a};$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_){return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_)}this.context_.next_(a);return this.nextStep_()};$jscomp.generator.Engine_.prototype.return_=function(b){this.context_.start_();var a=this.context_.yieldAllIterator_;if(a){var c='return' in a?a['return']:function(a){return {value:a,done:!0}};return this.yieldAllStep_(c,b,this.context_['return'])}this.context_['return'](b);return this.nextStep_()};$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_){return this.yieldAllStep_(this.context_.yieldAllIterator_['throw'],a,this.context_.next_)}this.context_.throw_(a);return this.nextStep_()};$jscomp.generator.Engine_.prototype.yieldAllStep_=function(d,e,c){try{var a=d.call(this.context_.yieldAllIterator_,e);$jscomp.generator.ensureIteratorResultIsObject_(a);if(!a.done){this.context_.stop_();return a}var b=a.value}catch(f){this.context_.yieldAllIterator_=null;this.context_.throw_(f);return this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,b);return this.nextStep_()};$jscomp.generator.Engine_.prototype.nextStep_=function(){while(this.context_.nextAddress){try{var b=this.program_(this.context_);if(b){this.context_.stop_();return {value:b.value,done:!1}}}catch(c){this.context_.yieldResult=undefined;this.context_.throw_(c)}}this.context_.stop_();if(this.context_.abruptCompletion_){var a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException){throw a.exception}return {value:a['return'],done:!0}}return {value:undefined,done:!0}};$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this['throw']=function(b){return a.throw_(b)};this['return']=function(b){return a.return_(b)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(b,c){var a=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(c));if($jscomp.setPrototypeOf){$jscomp.setPrototypeOf(a,b.prototype)}return a};$jscomp.asyncExecutePromiseGenerator=function(a){function passValueToGenerator(b){return a.next(b)}function passErrorToGenerator(b){return a['throw'](b)}return new Promise(function(b,c){function handleGeneratorRecord(d){if(d.done){b(d.value)}else {Promise.resolve(d.value).then(passValueToGenerator,passErrorToGenerator).then(handleGeneratorRecord,c)}}handleGeneratorRecord(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={};var b=Object.create(new $jscomp.global['Proxy'](a,{'get':function(d,e,c){return d==a&&e=='q'&&c==b}}));return b['q']===!0}catch(c){return !1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.polyfill('WeakMap',function(c){function isConformant(){if(!c||!Object.seal){return !1}try{var b=Object.seal({});var d=Object.seal({});var a=new c([[b,2],[d,3]]);if(a.get(b)!=2||a.get(d)!=3){return !1}a['delete'](b);a.set(d,4);return !a.has(b)&&a.get(d)==4}catch(e){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE){return c}}else {if(isConformant()){return c}}var a='$jscomp_hidden_'+Math.random();function insert(b){if(!$jscomp.owns(b,a)){var d={};$jscomp.defineProperty(b,a,{value:d})}}function patch(a){var b=Object[a];if(b){Object[a]=function(d){insert(d);return b(d)}}}patch('freeze');patch('preventExtensions');patch('seal');var d=0;var b=function(a){this.id_=(d+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=$jscomp.makeIterator(a);var b;while(!(b=f.next()).done){var e=b.value;this.set(e[0],e[1])}}};b.prototype.set=function(b,d){insert(b);if(!$jscomp.owns(b,a)){throw new Error('WeakMap key fail: '+b)}b[a][this.id_]=d;return this};b.prototype.get=function(b){return $jscomp.owns(b,a)?b[a][this.id_]:undefined};b.prototype.has=function(b){return $jscomp.owns(b,a)&&$jscomp.owns(b[a],this.id_)};b.prototype['delete']=function(b){if(!$jscomp.owns(b,a)||!$jscomp.owns(b[a],this.id_)){return !1}return delete b[a][this.id_]};return b},'es6','es3');$jscomp.MapEntry=function(){this.previous;this.next;this.head;this.key;this.value};$jscomp.polyfill('Map',function(b){function isConformant(){if($jscomp.ASSUME_NO_NATIVE_MAP||!b||typeof b!='function'||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var e=Object.seal({x:4});var c=new b($jscomp.makeIterator([[e,'s']]));if(c.get(e)!='s'||c.size!=1||c.get({x:4})||c.set({x:4},'t')!=c||c.size!=2){return !1}var d=c.entries();var a=d.next();if(a.done||a.value[0]!=e||a.value[1]!='s'){return !1}a=d.next();if(a.done||a.value[0].x!=4||a.value[1]!='t'||!d.next().done){return !1}return !0}catch(i){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE){return b}}else {if(isConformant()){return b}}$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=new WeakMap();var a=function(a){this.data_={};this.head_=f();this.size=0;if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.set(d[0],d[1])}}};a.prototype.set=function(d,e){d=d===0?0:d;var a=c(this,d);if(!a.list){a.list=this.data_[a.id]=[]}if(!a.entry){a.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:d,value:e};a.list.push(a.entry);this.head_.previous.next=a.entry;this.head_.previous=a.entry;this.size++}else {a.entry.value=e}return this};a.prototype['delete']=function(d){var a=c(this,d);if(a.entry&&a.list){a.list.splice(a.index,1);if(!a.list.length){delete this.data_[a.id]}a.entry.previous.next=a.entry.next;a.entry.next.previous=a.entry.previous;a.entry.head=null;this.size--;return !0}return !1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};a.prototype.has=function(a){return !!c(this,a).entry};a.prototype.get=function(d){var a=c(this,d).entry;return a&&a.value};a.prototype.entries=function(){return d(this,function(a){return [a.key,a.value]})};a.prototype.keys=function(){return d(this,function(a){return a.key})};a.prototype.values=function(){return d(this,function(a){return a.value})};a.prototype.forEach=function(e,d){var f=this.entries();var c;while(!(c=f.next()).done){var a=c.value;e.call(d,a[1],a[0],this)}};a.prototype[Symbol.iterator]=a.prototype.entries;var c=function(g,e){var f=h(e);var a=g.data_[f];if(a&&$jscomp.owns(g.data_,f)){for(var d=0;d<a.length;d++){var c=a[d];if(e!==e&&c.key!==c.key||e===c.key){return {id:f,list:a,index:d,entry:c}}}}return {id:f,list:a,index:-1,entry:undefined}};var d=function(c,d){var a=c.head_;return $jscomp.iteratorPrototype(function(){if(a){while(a.head!=c.head_){a=a.previous}while(a.next!=a.head){a=a.next;return {done:!1,value:d(a)}}a=null}return {done:!0,value:void 0}})};var f=function(){var a={};a.previous=a.next=a.head=a;return a};var g=0;var h=function(a){var c=a&&typeof a;if(c=='object'||c=='function'){a=a;if(!e.has(a)){var d=''+ ++g;e.set(a,d);return d}return e.get(a)}return 'p_'+a};return a},'es6','es3');$jscomp.polyfill('Math.acosh',function(a){if(a){return a}var b=function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))};return b},'es6','es3');$jscomp.polyfill('Math.asinh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.log1p',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var f=b;var g=1;var c=b;var d=0;var e=1;while(d!=c){f*=b;e*=-1;c=(d=c)+e*f/++g}return c}return Math.log(1+b)};return b},'es6','es3');$jscomp.polyfill('Math.atanh',function(b){if(b){return b}var a=Math.log1p;var c=function(c){c=Number(c);return (a(c)-a(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.cbrt',function(a){if(a){return a}var b=function(b){if(b===0){return b}b=Number(b);var c=Math.pow(Math.abs(b),1/3);return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.clz32',function(a){if(a){return a}var b=function(b){b=Number(b)>>>0;if(b===0){return 32}var c=0;if((b&4.29490176E9)===0){b<<=16;c+=16}if((b&4.27819008E9)===0){b<<=8;c+=8}if((b&4.02653184E9)===0){b<<=4;c+=4}if((b&3.221225472E9)===0){b<<=2;c+=2}if((b&2.147483648E9)===0){c++}return c};return b},'es6','es3');$jscomp.polyfill('Math.cosh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);return (b(c)+b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.expm1',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var e=b;var f=1;var c=b;var d=0;while(d!=c){e*=b/++f;c=(d=c)+e}return c}return Math.exp(b)-1};return b},'es6','es3');$jscomp.polyfill('Math.hypot',function(a){if(a){return a}var b=function(d,e,h){d=Number(d);e=Number(e);var b,g,f;var c=Math.max(Math.abs(d),Math.abs(e));for(b=2;b<arguments.length;b++){c=Math.max(c,Math.abs(arguments[b]))}if(c>1.0E100||c<1.0E-100){if(!c){return c}d=d/c;e=e/c;f=d*d+e*e;for(b=2;b<arguments.length;b++){g=Number(arguments[b])/c;f+=g*g}return Math.sqrt(f)*c}else {f=d*d+e*e;for(b=2;b<arguments.length;b++){g=Number(arguments[b]);f+=g*g}return Math.sqrt(f)}};return b},'es6','es3');$jscomp.polyfill('Math.imul',function(a){if(a){return a}var b=function(b,c){b=Number(b);c=Number(c);var f=b>>>16&65535;var d=b&65535;var g=c>>>16&65535;var e=c&65535;var h=f*e+d*g<<16>>>0;return d*e+h|0};return b},'es6','es3');$jscomp.polyfill('Math.log10',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN10};return b},'es6','es3');$jscomp.polyfill('Math.log2',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN2};return b},'es6','es3');$jscomp.polyfill('Math.sign',function(a){if(a){return a}var b=function(b){b=Number(b);return b===0||isNaN(b)?b:b>0?1:-1};return b},'es6','es3');$jscomp.polyfill('Math.sinh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);if(c===0){return c}return (b(c)-b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.tanh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.exp(-2*Math.abs(b));var d=(1-c)/(1+c);return b<0?-d:d};return b},'es6','es3');$jscomp.polyfill('Math.trunc',function(a){if(a){return a}var b=function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0){return b}var c=Math.floor(Math.abs(b));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Number.EPSILON',function(a){return Math.pow(2,-52)},'es6','es3');$jscomp.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.MIN_SAFE_INTEGER',function(){return -9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.isFinite',function(a){if(a){return a}var b=function(b){if(typeof b!=='number'){return !1}return !isNaN(b)&&b!==Infinity&&b!==-Infinity};return b},'es6','es3');$jscomp.polyfill('Number.isInteger',function(a){if(a){return a}var b=function(b){if(!Number.isFinite(b)){return !1}return b===Math.floor(b)};return b},'es6','es3');$jscomp.polyfill('Number.isNaN',function(a){if(a){return a}var b=function(b){return typeof b==='number'&&isNaN(b)};return b},'es6','es3');$jscomp.polyfill('Number.isSafeInteger',function(a){if(a){return a}var b=function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER};return b},'es6','es3');$jscomp.polyfill('Number.parseFloat',function(a){return a||parseFloat},'es6','es3');$jscomp.polyfill('Number.parseInt',function(a){return a||parseInt},'es6','es3');$jscomp.assign=typeof Object.assign=='function'?Object.assign:function(d,e){for(var c=1;c<arguments.length;c++){var a=arguments[c];if(!a){continue}for(var b in a){if($jscomp.owns(a,b)){d[b]=a[b]}}}return d};$jscomp.polyfill('Object.assign',function(a){return a||$jscomp.assign},'es6','es3');$jscomp.polyfill('Object.entries',function(a){if(a){return a}var b=function(c){var d=[];for(var b in c){if($jscomp.owns(c,b)){d.push([b,c[b]])}}return d};return b},'es8','es3');$jscomp.polyfill('Object.getOwnPropertySymbols',function(a){if(a){return a}return function(){return []}},'es6','es5');$jscomp.polyfill('Reflect.ownKeys',function(b){if(b){return b}var a='jscomp_symbol_';function isSymbol(c){return c.substring(0,a.length)==a}var c=function(e){var f=[];var c=Object.getOwnPropertyNames(e);var d=Object.getOwnPropertySymbols(e);for(var a=0;a<c.length;a++){(isSymbol(c[a])?d:f).push(c[a])}return f.concat(d)};return c},'es6','es5');$jscomp.polyfill('Object.getOwnPropertyDescriptors',function(a){if(a){return a}var b=function(e){var d={};var c=Reflect.ownKeys(e);for(var b=0;b<c.length;b++){d[c[b]]=Object.getOwnPropertyDescriptor(e,c[b])}return d};return b},'es8','es5');$jscomp.polyfill('Object.setPrototypeOf',function(a){return a||$jscomp.setPrototypeOf},'es6','es5');$jscomp.polyfill('Object.values',function(a){if(a){return a}var b=function(b){var c=[];for(var d in b){if($jscomp.owns(b,d)){c.push(b[d])}}return c};return b},'es8','es3');$jscomp.polyfill('Reflect.apply',function(a){if(a){return a}var c=Function.prototype.apply;var b=function(e,d,b){return c.call(e,d,b)};return b},'es6','es3');$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=='function'?Object.create:function(b){var a=function(){};a.prototype=b;return new a()};$jscomp.construct=function(){function reflectConstructWorks(){function Base(){}function Derived(){}new Base();Reflect.construct(Base,[],Derived);return new Base() instanceof Base}if(typeof Reflect!='undefined'&&Reflect.construct){if(reflectConstructWorks()){return Reflect.construct}var b=Reflect.construct;var a=function(e,d,a){var c=b(e,d);if(a){Reflect.setPrototypeOf(c,a.prototype)}return c};return a}function construct(b,d,a){if(a===undefined){a=b}var f=a.prototype||Object.prototype;var c=$jscomp.objectCreate(f);var e=Function.prototype.apply;var g=e.call(b,c,d);return g||c}return construct}();$jscomp.polyfill('Reflect.construct',function(a){return $jscomp.construct},'es6','es3');$jscomp.polyfill('Reflect.defineProperty',function(a){if(a){return a}var b=function(e,d,c){try{Object.defineProperty(e,d,c);var b=Object.getOwnPropertyDescriptor(e,d);if(!b){return !1}return b.configurable===(c.configurable||!1)&&b.enumerable===(c.enumerable||!1)&&('value' in b?b.value===c.value&&b.writable===(c.writable||!1):b.get===c.get&&b.set===c.set)}catch(f){return !1}};return b},'es6','es5');$jscomp.polyfill('Reflect.deleteProperty',function(a){if(a){return a}var b=function(c,b){if(!$jscomp.owns(c,b)){return !0}try{return delete c[b]}catch(d){return !1}};return b},'es6','es3');$jscomp.polyfill('Reflect.getOwnPropertyDescriptor',function(a){return a||Object.getOwnPropertyDescriptor},'es6','es5');$jscomp.polyfill('Reflect.getPrototypeOf',function(a){return a||Object.getPrototypeOf},'es6','es5');$jscomp.findDescriptor=function(d,c){var a=d;while(a){var b=Reflect.getOwnPropertyDescriptor(a,c);if(b){return b}a=Reflect.getPrototypeOf(a)}return undefined};$jscomp.polyfill('Reflect.get',function(a){if(a){return a}var b=function(d,c,e){if(arguments.length<=2){return d[c]}var b=$jscomp.findDescriptor(d,c);if(b){return b.get?b.get.call(e):b.value}return undefined};return b},'es6','es5');$jscomp.polyfill('Reflect.has',function(a){if(a){return a}var b=function(c,b){return b in c};return b},'es6','es3');$jscomp.polyfill('Reflect.isExtensible',function(a){if(a){return a}if($jscomp.ASSUME_ES5||typeof Object.isExtensible=='function'){return Object.isExtensible}return function(){return !0}},'es6','es3');$jscomp.polyfill('Reflect.preventExtensions',function(a){if(a){return a}if(!($jscomp.ASSUME_ES5||typeof Object.preventExtensions=='function')){return function(){return !1}}var b=function(b){Object.preventExtensions(b);return !Object.isExtensible(b)};return b},'es6','es3');$jscomp.polyfill('Reflect.set',function(a){if(a){return a}var b=function(b,d,e,f){var c=$jscomp.findDescriptor(b,d);if(!c){if(Reflect.isExtensible(b)){b[d]=e;return !0}return !1}if(c.set){c.set.call(arguments.length>3?f:b,e);return !0}else {if(c.writable&&!Object.isFrozen(b)){b[d]=e;return !0}}return !1};return b},'es6','es5');$jscomp.polyfill('Reflect.setPrototypeOf',function(a){if(a){return a}else {if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;var c=function(c,d){try{b(c,d);return !0}catch(e){return !1}};return c}else {return null}}},'es6','es5');$jscomp.polyfill('Set',function(b){function isConformant(){if($jscomp.ASSUME_NO_NATIVE_SET||!b||typeof b!='function'||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var d=Object.seal({x:4});var c=new b($jscomp.makeIterator([d]));if(!c.has(d)||c.size!=1||c.add(d)!=c||c.size!=1||c.add({x:4})!=c||c.size!=2){return !1}var e=c.entries();var a=e.next();if(a.done||a.value[0]!=d||a.value[1]!=d){return !1}a=e.next();if(a.done||a.value[0]==d||a.value[0].x!=4||a.value[1]!=a.value[0]){return !1}return e.next().done}catch(f){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE){return b}}else {if(isConformant()){return b}}$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=function(a){this.map_=new Map();if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}this.size=this.map_.size};a.prototype.add=function(a){a=a===0?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype['delete']=function(c){var a=this.map_['delete'](c);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(c,a){var d=this;this.map_.forEach(function(e){return c.call(a,e,e,d)})};return a},'es6','es3');$jscomp.checkStringArgs=function(a,c,b){if(a==null){throw new TypeError("The 'this' value for String.prototype."+b+' must not be null or undefined')}if(c instanceof RegExp){throw new TypeError('First argument to String.prototype.'+b+' must not be a regular expression')}return a+''};$jscomp.polyfill('String.prototype.codePointAt',function(a){if(a){return a}var b=function(b){var e=$jscomp.checkStringArgs(this,null,'codePointAt');var f=e.length;b=Number(b)||0;if(!(b>=0&&b<f)){return void 0}b=b|0;var c=e.charCodeAt(b);if(c<55296||c>56319||b+1===f){return c}var d=e.charCodeAt(b+1);if(d<56320||d>57343){return c}return (c-55296)*1024+d+9216};return b},'es6','es3');$jscomp.polyfill('String.prototype.endsWith',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'endsWith');b=b+'';if(c===void 0){c=d.length}var f=Math.max(0,Math.min(c|0,d.length));var e=b.length;while(e>0&&f>0){if(d[--f]!=b[--e]){return !1}}return e<=0};return b},'es6','es3');$jscomp.polyfill('String.fromCodePoint',function(a){if(a){return a}var b=function(e){var c='';for(var d=0;d<arguments.length;d++){var b=Number(arguments[d]);if(b<0||b>1114111||b!==Math.floor(b)){throw new RangeError('invalid_code_point '+b)}if(b<=65535){c+=String.fromCharCode(b)}else {b-=65536;c+=String.fromCharCode(b>>>10&1023|55296);c+=String.fromCharCode(b&1023|56320)}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.includes',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'includes');return d.indexOf(b,c||0)!==-1};return b},'es6','es3');$jscomp.polyfill('String.prototype.repeat',function(a){if(a){return a}var b=function(b){var c=$jscomp.checkStringArgs(this,null,'repeat');if(b<0||b>1342177279){throw new RangeError('Invalid count value')}b=b|0;var d='';while(b){if(b&1){d+=c}if(b>>>=1){c+=c}}return d};return b},'es6','es3');$jscomp.stringPadding=function(c,a){var b=c!==undefined?String(c):' ';if(!(a>0)||!b){return ''}var d=Math.ceil(a/b.length);return b.repeat(d).substring(0,a)};$jscomp.polyfill('String.prototype.padEnd',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return b+$jscomp.stringPadding(c,e)};return b},'es8','es3');$jscomp.polyfill('String.prototype.padStart',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return $jscomp.stringPadding(c,e)+b};return b},'es8','es3');$jscomp.polyfill('String.prototype.startsWith',function(a){if(a){return a}var b=function(b,g){var c=$jscomp.checkStringArgs(this,b,'startsWith');b=b+'';var h=c.length;var e=b.length;var f=Math.max(0,Math.min(g|0,c.length));var d=0;while(d<e&&f<h){if(c[f++]!=b[d++]){return !1}}return d>=e};return b},'es6','es3');$jscomp.arrayFromIterator=function(c){var b;var a=[];while(!(b=c.next()).done){a.push(b.value)}return a};$jscomp.arrayFromIterable=function(a){if(a instanceof Array){return a}else {return $jscomp.arrayFromIterator($jscomp.makeIterator(a))}};$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,b)}else {for(var c in b){if(c=='prototype'){continue}if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);if(d){Object.defineProperty(a,c,d)}}else {a[c]=b[c]}}}a.superClass_=b.prototype};$jscomp.polyfill('WeakSet',function(a){function isConformant(){if(!a||!Object.seal){return !1}try{var c=Object.seal({});var d=Object.seal({});var b=new a([c]);if(!b.has(c)||b.has(d)){return !1}b['delete'](c);b.add(d);return !b.has(c)&&b.has(d)}catch(e){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE){return a}}else {if(isConformant()){return a}}var b=function(b){this.map_=new WeakMap();if(b){$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=$jscomp.makeIterator(b);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}};b.prototype.add=function(b){this.map_.set(b,!0);return this};b.prototype.has=function(b){return this.map_.has(b)};b.prototype['delete']=function(b){return this.map_['delete'](b)};return b},'es6','es3');try{if(Array.prototype.values.toString().indexOf('[native code]')==-1){delete Array.prototype.values}}catch(a){}!function(b,a){'object'==typeof exports&&'undefined'!=typeof module?module.exports=a():'function'==typeof define&&define.amd?define(a):(b=b||self).Viewer=a()}(this,function(){function i(a){return (i='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&'function'==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?'symbol':typeof b})(a)}function n(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,'value' in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}var W={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:'',container:'body',filter:null,fullscreen:!0,initialViewIndex:0,inline:!1,interval:5000,keyboard:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:0.1,minZoomRatio:0.01,maxZoomRatio:100,url:'src',ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,zoom:null,zoomed:null},t='undefined'!=typeof window,g=t?window:{},l=t&&'ontouchstart' in g.document.documentElement,A=t&&'PointerEvent' in g,a='viewer',r='move',U='switch',o='zoom',s=''.concat(a,'-active'),al=''.concat(a,'-close'),q=''.concat(a,'-fade'),B=''.concat(a,'-fixed'),am=''.concat(a,'-fullscreen'),X=''.concat(a,'-fullscreen-exit'),h=''.concat(a,'-hide'),aj=''.concat(a,'-hide-md-down'),ai=''.concat(a,'-hide-sm-down'),ak=''.concat(a,'-hide-xs-down'),e=''.concat(a,'-in'),v=''.concat(a,'-invisible'),u=''.concat(a,'-loading'),ag=''.concat(a,'-move'),P=''.concat(a,'-open'),j=''.concat(a,'-show'),b=''.concat(a,'-transition'),k='click',x='dblclick',I='dragstart',L='hidden',K='hide',O='keydown',f='load',S=A?'pointerdown':l?'touchstart':'mousedown',V=A?'pointermove':l?'touchmove':'mousemove',H=A?'pointerup pointercancel':l?'touchend touchcancel':'mouseup',M='ready',R='resize',E='show',N='shown',d='transitionend',T='view',m='viewed',F='wheel',y=''.concat(a,'Action'),z=/\s\s*/,p=['zoom-in','zoom-out','one-to-one','reset','prev','play','next','rotate-left','rotate-right','flip-horizontal','flip-vertical'];function $(a){return 'string'==typeof a}var ah=Number.isNaN||g.isNaN;function G(a){return 'number'==typeof a&&!ah(a)}function J(a){return void 0===a}function Q(a){return 'object'===i(a)&&null!==a}var ae=Object.prototype.hasOwnProperty;function it(c){if(!Q(c)){return !1}try{var b=c.constructor,a=b.prototype;return b&&a&&ae.call(a,'isPrototypeOf')}catch(an){return !1}}function et(a){return 'function'==typeof a}function nt(a,c){if(a&&et(c)){if(Array.isArray(a)||G(a.length)){var b,d=a.length;for(b=0;b<d&&!1!==c.call(a,a[b],b,a);b+=1){}}else {Q(a)&&Object.keys(a).forEach(function(b){c.call(a,a[b],b,a)})}}return a}var c=Object.assign||function(b){for(var d=arguments.length,c=new Array(1<d?d-1:0),a=1;a<d;a++){c[a-1]=arguments[a]}return Q(b)&&0<c.length&&c.forEach(function(a){Q(a)&&Object.keys(a).forEach(function(c){b[c]=a[c]})}),b},ad=/^(?:width|height|left|top|marginLeft|marginTop)$/;function at(c,b){var a=c.style;nt(b,function(d,e){ad.test(e)&&G(d)&&(d+='px'),a[e]=d})}function rt(a,b){return a.classList?a.classList.contains(b):-1<a.className.indexOf(b)}function ht(a,b){if(b){if(G(a.length)){nt(a,function(c){ht(c,b)})}else {if(a.classList){a.classList.add(b)}else {var c=a.className.trim();c?c.indexOf(b)<0&&(a.className=''.concat(c,' ').concat(b)):a.className=b}}}}function lt(a,b){b&&(G(a.length)?nt(a,function(c){lt(c,b)}):a.classList?a.classList.remove(b):0<=a.className.indexOf(b)&&(a.className=a.className.replace(b,'')))}function ct(b,a,c){a&&(G(b.length)?nt(b,function(d){ct(d,a,c)}):c?ht(b,a):lt(b,a))}var af=/([a-z\d])([A-Z])/g;function dt(a){return a.replace(af,'$1-$2').toLowerCase()}function mt(a,b){return Q(a[b])?a[b]:a.dataset?a.dataset[b]:a.getAttribute('data-'.concat(dt(b)))}function ft(b,c,a){Q(a)?b[c]=a:b.dataset?b.dataset[c]=a:b.setAttribute('data-'.concat(dt(c)),a)}var D=function(){var d=!1;if(t){var b=!1,a=function(){},c=Object.defineProperty({},'once',{get:function(){return d=!0,b},set:function(a){b=a}});g.addEventListener('test',a,c),g.removeEventListener('test',a,c)}return d}();function vt(b,e,a){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},c=a;e.trim().split(z).forEach(function(g){if(!D){var f=b.listeners;f&&f[g]&&f[g][a]&&(c=f[g][a],delete f[g][a],0===Object.keys(f[g]).length&&delete f[g],0===Object.keys(f).length&&delete b.listeners)}b.removeEventListener(g,c,d)})}function pt(b,e,a){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},c=a;e.trim().split(z).forEach(function(f){if(d.once&&!D){var h=b.listeners,g=void 0===h?{}:h;c=function(){delete g[f][a],b.removeEventListener(f,c,d);for(var j=arguments.length,i=new Array(j),h=0;h<j;h++){i[h]=arguments[h]}a.apply(b,i)},g[f]||(g[f]={}),g[f][a]&&b.removeEventListener(f,g[f][a],d),g[f][a]=c,b.listeners=g}b.addEventListener(f,c,d)})}function wt(d,c,b){var a;return et(Event)&&et(CustomEvent)?a=new CustomEvent(c,{detail:b,bubbles:!0,cancelable:!0}):(a=document.createEvent('CustomEvent')).initCustomEvent(c,!0,!0,b),d.dispatchEvent(a)}function bt(b){var d=b.rotate,c=b.scaleX,e=b.scaleY,h=b.translateX,f=b.translateY,a=[];G(h)&&0!==h&&a.push('translateX('.concat(h,'px)')),G(f)&&0!==f&&a.push('translateY('.concat(f,'px)')),G(d)&&0!==d&&a.push('rotate('.concat(d,'deg)')),G(c)&&1!==c&&a.push('scaleX('.concat(c,')')),G(e)&&1!==e&&a.push('scaleY('.concat(e,')'));var g=a.length?a.join(' '):'none';return {WebkitTransform:g,msTransform:g,transform:g}}var w=g.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(g.navigator.userAgent);function xt(b,c){var a=document.createElement('img');if(b.naturalWidth&&!w){return c(b.naturalWidth,b.naturalHeight),a}var d=document.body||document.documentElement;return a.onload=function(){c(a.width,a.height),w||d.removeChild(a)},a.src=b.src,w||(a.style.cssText='left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;',d.appendChild(a)),a}function kt(a){switch(a){case 2:return ak;case 3:return ai;case 4:return aj;default:return '';}}function zt(e,f){var a=e.pageX,b=e.pageY,d={endX:a,endY:b};return f?d:c({timeStamp:Date.now(),startX:a,startY:b},d)}var Z={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var a,b=this.options,d=this.parent;b.inline&&(a={width:Math.max(d.offsetWidth,b.minWidth),height:Math.max(d.offsetHeight,b.minHeight)},this.parentData=a),!this.fulled&&a||(a=this.containerData),this.viewerData=c({},a)},renderViewer:function(){this.options.inline&&!this.fulled&&at(this.viewer,this.viewerData)},initList:function(){var d=this,g=this.element,a=this.options,c=this.list,e=[];nt(this.images,function(f,g){var c=f.src,h=f.alt||function(a){return $(a)?a.replace(/^.*\//,'').replace(/[?&#].*$/,''):''}(c),b=a.url;$(b)?b=f.getAttribute(b):et(b)&&(b=b.call(d,f)),(c||b)&&e.push('<li><img'+' src="'.concat(c||b,'"')+' role="button" data-viewer-action="view"'+' data-index="'.concat(g,'"')+' data-original-url="'.concat(b||c,'"')+' alt="'.concat(h,'"')+'></li>')}),c.innerHTML=e.join(''),this.items=c.getElementsByTagName('li'),nt(this.items,function(b){var c=b.firstElementChild;ft(c,'filled',!0),a.loading&&ht(b,u),pt(c,f,function(c){a.loading&&lt(b,u),d.loadImage(c)},{once:!0})}),a.transition&&pt(g,m,function(){ht(c,b)},{once:!0})},renderList:function(e){var b=e||this.index,a=this.items[b].offsetWidth||30,d=a+1;at(this.list,c({width:d*this.length},bt({translateX:(this.viewerData.width-a)/2-d*b})))},resetList:function(){var a=this.list;a.innerHTML='',lt(a,b),at(a,bt({translateX:0}))},initImage:function(i){var j,e=this,g=this.options,k=this.image,f=this.viewerData,h=this.footer.offsetHeight,a=f.width,b=Math.max(f.height-h,h),d=this.imageData||{};this.imageInitializing={abort:function(){j.onload=null}},j=xt(k,function(m,n){var k=m/n,f=a,l=b;e.imageInitializing=!1,a<b*k?l=a/k:f=b*k;var h={naturalWidth:m,naturalHeight:n,aspectRatio:k,ratio:(f=Math.min(0.9*f,m))/m,width:f,height:l=Math.min(0.9*l,n),left:(a-f)/2,top:(b-l)/2},j=c({},h);g.rotatable&&(h.rotate=d.rotate||0,j.rotate=0),g.scalable&&(h.scaleX=d.scaleX||1,h.scaleY=d.scaleY||1,j.scaleX=1,j.scaleY=1),e.imageData=h,e.initialImageData=j,i&&i()})},renderImage:function(e){var g=this,b=this.image,a=this.imageData;if(at(b,c({width:a.width,height:a.height,marginLeft:a.left,marginTop:a.top},bt(a))),e){if((this.viewing||this.zooming)&&this.options.transition){var f=function(){g.imageRendering=!1,e()};this.imageRendering={abort:function(){vt(b,d,f)}},pt(b,d,f,{once:!0})}else {e()}}},resetImage:function(){if(this.viewing||this.viewed){var a=this.image;this.viewing&&this.viewing.abort(),a.parentNode.removeChild(a),this.image=null}}},ac={bind:function(){var d=this.options,a=this.viewer,c=this.canvas,b=this.element.ownerDocument;pt(a,k,this.onClick=this.click.bind(this)),pt(a,F,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),pt(a,I,this.onDragStart=this.dragstart.bind(this)),pt(c,S,this.onPointerDown=this.pointerdown.bind(this)),pt(b,V,this.onPointerMove=this.pointermove.bind(this)),pt(b,H,this.onPointerUp=this.pointerup.bind(this)),pt(b,O,this.onKeyDown=this.keydown.bind(this)),pt(window,R,this.onResize=this.resize.bind(this)),d.toggleOnDblclick&&pt(c,x,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var d=this.options,a=this.viewer,c=this.canvas,b=this.element.ownerDocument;vt(a,k,this.onClick),vt(a,F,this.onWheel,{passive:!1,capture:!0}),vt(a,I,this.onDragStart),vt(c,S,this.onPointerDown),vt(b,V,this.onPointerMove),vt(b,H,this.onPointerUp),vt(b,O,this.onKeyDown),vt(window,R,this.onResize),d.toggleOnDblclick&&vt(c,x,this.onDblclick)}},_={click:function(d){var b=d.target,a=this.options,c=this.imageData,e=mt(b,y);switch(l&&d.isTrusted&&b===this.canvas&&clearTimeout(this.clickCanvasTimeout),e){case 'mix':this.played?this.stop():a.inline?this.fulled?this.exit():this.full():this.hide();break;case 'hide':this.hide();break;case 'view':this.view(mt(b,'index'));break;case 'zoom-in':this.zoom(0.1,!0);break;case 'zoom-out':this.zoom(-0.1,!0);break;case 'one-to-one':this.toggle();break;case 'reset':this.reset();break;case 'prev':this.prev(a.loop);break;case 'play':this.play(a.fullscreen);break;case 'next':this.next(a.loop);break;case 'rotate-left':this.rotate(-90);break;case 'rotate-right':this.rotate(90);break;case 'flip-horizontal':this.scaleX(-c.scaleX||-1);break;case 'flip-vertical':this.scaleY(-c.scaleY||-1);break;default:this.played&&this.stop();}},dblclick:function(a){a.preventDefault(),this.viewed&&a.target===this.image&&(l&&a.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle())},load:function(){var d=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var e=this.element,a=this.options,c=this.image,g=this.index,f=this.viewerData;lt(c,v),a.loading&&lt(this.canvas,u),c.style.cssText='height:0;'+'margin-left:'.concat(f.width/2,'px;')+'margin-top:'.concat(f.height/2,'px;')+'max-width:none!important;position:absolute;width:0;',this.initImage(function(){ct(c,ag,a.movable),ct(c,b,a.transition),d.renderImage(function(){d.viewed=!0,d.viewing=!1,et(a.viewed)&&pt(e,m,a.viewed,{once:!0}),wt(e,m,{originalImage:d.images[g],index:g,image:c})})})},loadImage:function(g){var d=g.target,f=d.parentNode,a=f.offsetWidth||30,b=f.offsetHeight||50,e=!!mt(d,'filled');xt(d,function(k,j){var f=k/j,h=a,i=b;a<b*f?e?h=b*f:i=a/f:e?i=a/f:h=b*f,at(d,c({width:h,height:i},bt({translateX:(a-h)/2,translateY:(b-i)/2})))})},keydown:function(a){var b=this.options;if(this.fulled&&b.keyboard){switch(a.keyCode||a.which||a.charCode){case 27:this.played?this.stop():b.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(b.loop);break;case 38:a.preventDefault(),this.zoom(b.zoomRatio,!0);break;case 39:this.next(b.loop);break;case 40:a.preventDefault(),this.zoom(-b.zoomRatio,!0);break;case 48:case 49:a.ctrlKey&&(a.preventDefault(),this.toggle());}}},dragstart:function(a){'img'===a.target.tagName.toLowerCase()&&a.preventDefault()},pointerdown:function(a){var e=this.options,d=this.pointers,f=a.buttons,g=a.button;if(!(!this.viewed||this.showing||this.viewing||this.hiding||G(f)&&1!==f||G(g)&&0!==g||a.ctrlKey)){a.preventDefault(),a.changedTouches?nt(a.changedTouches,function(b){d[b.identifier]=zt(b)}):d[a.pointerId||0]=zt(a);var c=!!e.movable&&r;1<Object.keys(d).length?c=o:'touch'!==a.pointerType&&'touchstart'!==a.type||!this.isSwitchable()||(c=U),!e.transition||c!==r&&c!==o||lt(this.image,b),this.action=c}},pointermove:function(a){var b=this.pointers,d=this.action;this.viewed&&d&&(a.preventDefault(),a.changedTouches?nt(a.changedTouches,function(d){c(b[d.identifier]||{},zt(d,!0))}):c(b[a.pointerId||0]||{},zt(a,!0)),this.change(a))},pointerup:function(a){var c,g=this,d=this.options,f=this.action,e=this.pointers;a.changedTouches?nt(a.changedTouches,function(b){c=e[b.identifier],delete e[b.identifier]}):(c=e[a.pointerId||0],delete e[a.pointerId||0]),f&&(a.preventDefault(),!d.transition||f!==r&&f!==o||ht(this.image,b),this.action=!1,l&&f!==o&&c&&Date.now()-c.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),d.toggleOnDblclick&&this.viewed&&a.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){wt(g.image,x)},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){g.imageClicked=!1},500)):(this.imageClicked=!1,d.backdrop&&'static'!==d.backdrop&&a.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){wt(g.canvas,k)},50)))))},resize:function(){var a=this;if(this.isShown&&!this.hiding&&(this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){a.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){return void this.stop()}nt(this.player.getElementsByTagName('img'),function(b){pt(b,f,a.loadImage.bind(a),{once:!0}),wt(b,f)})}},wheel:function(a){var d=this;if(this.viewed&&(a.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){d.wheeling=!1},50);var c=Number(this.options.zoomRatio)||0.1,b=1;a.deltaY?b=0<a.deltaY?1:-1:a.wheelDelta?b=-a.wheelDelta/120:a.detail&&(b=0<a.detail?1:-1),this.zoom(-b*c,!0,a)}}},aa={show:function(){var i=0<arguments.length&&void 0!==arguments[0]&&arguments[0],f=this.element,c=this.options;if(c.inline||this.showing||this.isShown||this.showing){return this}if(!this.ready){return this.build(),this.ready&&this.show(i),this}if(et(c.show)&&pt(f,E,c.show,{once:!0}),!1===wt(f,E)||!this.ready){return this}this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var a=this.viewer;if(lt(a,h),c.transition&&!i){var g=this.shown.bind(this);this.transitioning={abort:function(){vt(a,d,g),lt(a,e)}},ht(a,b),a.offsetWidth,pt(a,d,g,{once:!0}),ht(a,e)}else {ht(a,e),this.shown()}return this},hide:function(){var i=0<arguments.length&&void 0!==arguments[0]&&arguments[0],g=this.element,a=this.options;if(a.inline||this.hiding||!this.isShown&&!this.showing){return this}if(et(a.hide)&&pt(g,K,a.hide,{once:!0}),!1===wt(g,K)){return this}this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var c=this.viewer;if(a.transition&&!i){var h=this.hidden.bind(this),f=function(){pt(c,d,h,{once:!0}),lt(c,e)};this.transitioning={abort:function(){this.viewed?vt(this.image,d,f):vt(c,d,h)}},this.viewed&&rt(this.image,b)?(pt(this.image,d,f,{once:!0}),this.zoomTo(0,!1,!1,!0)):f()}else {lt(c,e),this.hidden()}return this},view:function(){var e=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(b=Number(b)||0,!this.isShown){return this.index=b,this.show()}if(this.hiding||this.played||b<0||b>=this.length||this.viewed&&b===this.index){return this}this.viewing&&this.viewing.abort();var d=this.element,c=this.options,l=this.title,g=this.canvas,h=this.items[b],k=h.querySelector('img'),o=mt(k,'originalUrl'),j=k.getAttribute('alt'),a=document.createElement('img');if(a.src=o,a.alt=j,et(c.view)&&pt(d,T,c.view,{once:!0}),!1===wt(d,T,{originalImage:this.images[b],index:b,image:a})||!this.isShown||this.hiding||this.played){return this}this.image=a,lt(this.items[this.index],s),ht(h,s),this.viewed=!1,this.index=b,this.imageData={},ht(a,v),c.loading&&ht(g,u),g.innerHTML='',g.appendChild(a),this.renderList(),l.innerHTML='';var n,i=function(){var b=e.imageData,d=Array.isArray(c.title)?c.title[1]:c.title;l.innerHTML=et(d)?d.call(e,a,b):''.concat(j,' (').concat(b.naturalWidth,' × ').concat(b.naturalHeight,')')};return pt(d,m,i,{once:!0}),this.viewing={abort:function(){vt(d,m,i),a.complete?this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort():(a.src='',vt(a,f,n),this.timeout&&clearTimeout(this.timeout))}},a.complete?this.load():(pt(a,f,n=this.load.bind(this),{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){lt(a,v),e.timeout=!1},1000)),this},prev:function(){var b=0<arguments.length&&void 0!==arguments[0]&&arguments[0],a=this.index-1;return a<0&&(a=b?this.length-1:0),this.view(a),this},next:function(){var c=0<arguments.length&&void 0!==arguments[0]&&arguments[0],b=this.length-1,a=this.index+1;return b<a&&(a=c?0:b),this.view(a),this},move:function(b,a){var c=this.imageData;return this.moveTo(J(b)?b:c.left+Number(b),J(a)?a:c.top+Number(a)),this},moveTo:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,d=this.imageData;if(a=Number(a),b=Number(b),this.viewed&&!this.played&&this.options.movable){var c=!1;G(a)&&(d.left=a,c=!0),G(b)&&(d.top=b,c=!0),c&&this.renderImage()}return this},zoom:function(a){var d=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,b=this.imageData;return a=(a=Number(a))<0?1/(1-a):1+a,this.zoomTo(b.width*a/b.naturalWidth,d,c),this},zoomTo:function(b){var v=this,s=1<arguments.length&&void 0!==arguments[1]&&arguments[1],d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,m=3<arguments.length&&void 0!==arguments[3]&&arguments[3],e=this.element,c=this.options,g=this.pointers,a=this.imageData,f=a.width,i=a.height,w=a.left,r=a.top,k=a.naturalWidth,t=a.naturalHeight;if(G(b=Math.max(0,b))&&this.viewed&&!this.played&&(m||c.zoomable)){if(!m){var u=Math.max(0.01,c.minZoomRatio),x=Math.min(100,c.maxZoomRatio);b=Math.min(Math.max(b,u),x)}d&&0.95<b&&b<1.05&&(b=1);var l=k*b,n=t*b,h=l-f,p=n-i,o=f/k;if(et(c.zoom)&&pt(e,'zoom',c.zoom,{once:!0}),!1===wt(e,'zoom',{ratio:b,oldRatio:o,originalEvent:d})){return this}if(this.zooming=!0,d){var j=function(c){var a=c.getBoundingClientRect();return {left:a.left+(window.pageXOffset-document.documentElement.clientLeft),top:a.top+(window.pageYOffset-document.documentElement.clientTop)}}(this.viewer),q=g&&Object.keys(g).length?function(e){var c=0,d=0,a=0;return nt(e,function(f){var h=f.startX,g=f.startY;c+=h,d+=g,a+=1}),{pageX:c/=a,pageY:d/=a}}(g):{pageX:d.pageX,pageY:d.pageY};a.left-=h*((q.pageX-j.left-w)/f),a.top-=p*((q.pageY-j.top-r)/i)}else {a.left-=h/2,a.top-=p/2}a.width=l,a.height=n,a.ratio=b,this.renderImage(function(){v.zooming=!1,et(c.zoomed)&&pt(e,'zoomed',c.zoomed,{once:!0}),wt(e,'zoomed',{ratio:b,oldRatio:o,originalEvent:d})}),s&&this.tooltip()}return this},rotate:function(a){return this.rotateTo((this.imageData.rotate||0)+Number(a)),this},rotateTo:function(a){var b=this.imageData;return G(a=Number(a))&&this.viewed&&!this.played&&this.options.rotatable&&(b.rotate=a,this.renderImage()),this},scaleX:function(a){return this.scale(a,this.imageData.scaleY),this},scaleY:function(a){return this.scale(this.imageData.scaleX,a),this},scale:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,d=this.imageData;if(a=Number(a),b=Number(b),this.viewed&&!this.played&&this.options.scalable){var c=!1;G(a)&&(d.scaleX=a,c=!0),G(b)&&(d.scaleY=b,c=!0),c&&this.renderImage()}return this},play:function(){var m=this,h=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played){return this}var c=this.options,k=this.player,i=this.loadImage.bind(this),g=[],d=0,a=0;if(this.played=!0,this.onLoadWhenPlay=i,h&&this.requestFullscreen(),ht(k,j),nt(this.items,function(l,m){var j=l.querySelector('img'),h=document.createElement('img');h.src=mt(j,'originalUrl'),h.alt=j.getAttribute('alt'),d+=1,ht(h,q),ct(h,b,c.transition),rt(l,s)&&(ht(h,e),a=m),g.push(h),pt(h,f,i,{once:!0}),k.appendChild(h)}),G(c.interval)&&0<c.interval){var l=function h(){m.playing=setTimeout(function(){lt(g[a],e),ht(g[a=(a+=1)<d?a:0],e),h()},c.interval)};1<d&&l()}return this},stop:function(){var b=this;if(!this.played){return this}var a=this.player;return this.played=!1,clearTimeout(this.playing),nt(a.getElementsByTagName('img'),function(a){vt(a,f,b.onLoadWhenPlay)}),lt(a,j),a.innerHTML='',this.exitFullscreen(),this},full:function(){var g=this,a=this.options,d=this.viewer,e=this.image,f=this.list;return !this.isShown||this.played||this.fulled||!a.inline||(this.fulled=!0,this.open(),ht(this.button,X),a.transition&&(lt(f,b),this.viewed&&lt(e,b)),ht(d,B),d.setAttribute('style',''),at(d,{zIndex:a.zIndex}),this.initContainer(),this.viewerData=c({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){g.renderImage(function(){a.transition&&setTimeout(function(){ht(e,b),ht(f,b)},0)})})),this},exit:function(){var g=this,a=this.options,d=this.viewer,e=this.image,f=this.list;return this.isShown&&!this.played&&this.fulled&&a.inline&&(this.fulled=!1,this.close(),lt(this.button,X),a.transition&&(lt(f,b),this.viewed&&lt(e,b)),lt(d,B),at(d,{zIndex:a.zIndexInline}),this.viewerData=c({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){g.renderImage(function(){a.transition&&setTimeout(function(){ht(e,b),ht(f,b)},0)})})),this},tooltip:function(){var f=this,c=this.options,a=this.tooltipBox,g=this.imageData;return this.viewed&&!this.played&&c.tooltip&&(a.textContent=''.concat(Math.round(100*g.ratio),'%'),this.tooltipping?clearTimeout(this.tooltipping):c.transition?(this.fading&&wt(a,d),ht(a,j),ht(a,q),ht(a,b),a.offsetWidth,ht(a,e)):ht(a,j),this.tooltipping=setTimeout(function(){c.transition?(pt(a,d,function(){lt(a,j),lt(a,q),lt(a,b),f.fading=!1},{once:!0}),lt(a,e),f.fading=!0):lt(a,j),f.tooltipping=!1},1000)),this},toggle:function(){return 1===this.imageData.ratio?this.zoomTo(this.initialImageData.ratio,!0):this.zoomTo(1,!0),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=c({},this.initialImageData),this.renderImage()),this},update:function(){var c=this.element,e=this.options,d=this.isImg;if(d&&!c.parentNode){return this.destroy()}var a=[];if(nt(d?[c]:c.querySelectorAll('img'),function(b){e.filter?e.filter(b)&&a.push(b):a.push(b)}),!a.length){return this}if(this.images=a,this.length=a.length,this.ready){var b=[];if(nt(this.items,function(f,c){var e=f.querySelector('img'),d=a[c];d?d.src!==e.src&&b.push(c):b.push(c)}),at(this.list,{width:'auto'}),this.initList(),this.isShown){if(this.length){if(this.viewed){var f=b.indexOf(this.index);0<=f?(this.viewed=!1,this.view(Math.max(this.index-(f+1),0))):ht(this.items[this.index],s)}}else {this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML='',this.title.innerHTML=''}}}else {this.build()}return this},destroy:function(){var c=this.element,b=this.options;return c[a]&&(this.destroyed=!0,this.ready?(this.played&&this.stop(),b.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):b.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),b.inline||vt(c,k,this.onStart),c[a]=void 0),this}},ab={open:function(){var a=this.body;ht(a,P),a.style.paddingRight=''.concat(this.scrollbarWidth+(parseFloat(this.initialBodyPaddingRight)||0),'px')},close:function(){var a=this.body;lt(a,P),a.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var b=this.element,a=this.options;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,et(a.shown)&&pt(b,N,a.shown,{once:!0}),!1!==wt(b,N)&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var b=this.element,a=this.options;this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),ht(this.viewer,h),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(et(a.hidden)&&pt(b,L,a.hidden,{once:!0}),wt(b,L))},requestFullscreen:function(){var b=this.element.ownerDocument;if(this.fulled&&!(b.fullscreenElement||b.webkitFullscreenElement||b.mozFullScreenElement||b.msFullscreenElement)){var a=b.documentElement;a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()}},exitFullscreen:function(){var a=this.element.ownerDocument;this.fulled&&(a.fullscreenElement||a.webkitFullscreenElement||a.mozFullScreenElement||a.msFullscreenElement)&&(a.exitFullscreen?a.exitFullscreen():a.webkitExitFullscreen?a.webkitExitFullscreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.msExitFullscreen&&a.msExitFullscreen())},change:function(h){var f=this.options,a=this.pointers,b=a[Object.keys(a)[0]],d=b.endX-b.startX,g=b.endY-b.startY;switch(this.action){case r:this.move(d,g);break;case o:this.zoom(function(d){var b=c({},d),a=[];return nt(d,function(c,e){delete b[e],nt(b,function(b){var g=Math.abs(c.startX-b.startX),f=Math.abs(c.startY-b.startY),i=Math.abs(c.endX-b.endX),k=Math.abs(c.endY-b.endY),j=Math.sqrt(g*g+f*f),l=(Math.sqrt(i*i+k*k)-j)/j;a.push(l)})}),a.sort(function(b,a){return Math.abs(b)<Math.abs(a)}),a[0]}(a),!1,h);break;case U:this.action='switched';var e=Math.abs(d);1<e&&e>Math.abs(g)&&(this.pointers={},1<d?this.prev(f.loop):d<-1&&this.next(f.loop));}nt(a,function(a){a.startX=a.endX,a.startY=a.endY})},isSwitchable:function(){var a=this.imageData,b=this.viewerData;return 1<this.length&&0<=a.left&&0<=a.top&&a.width<=b.width&&a.height<=b.height}},Y=g.Viewer,C=function(){function e(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(c,b){if(!(c instanceof b)){throw new TypeError('Cannot call a class as a function')}}(this,e),!a||1!==a.nodeType){throw new Error('The first argument is required and must be an element.')}this.element=a,this.options=c({},W,it(b)&&b),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.init()}return function(c,b,a){b&&n(c.prototype,b),a&&n(c,a)}(e,[{key:'init',value:function(){var b=this,c=this.element,d=this.options;if(!c[a]){c[a]=this;var j='img'===c.tagName.toLowerCase(),e=[];nt(j?[c]:c.querySelectorAll('img'),function(a){et(d.filter)?d.filter.call(b,a)&&e.push(a):e.push(a)}),this.isImg=j,this.length=e.length,this.images=e;var h=c.ownerDocument,i=h.body||h.documentElement;if(this.body=i,this.scrollbarWidth=window.innerWidth-h.documentElement.clientWidth,this.initialBodyPaddingRight=window.getComputedStyle(i).paddingRight,J(document.createElement(a).style.transition)&&(d.transition=!1),d.inline){var l=0,g=function(){var a;(l+=1)===b.length&&(b.initializing=!1,b.delaying={abort:function(){clearTimeout(a)}},a=setTimeout(function(){b.delaying=!1,b.build()},0))};this.initializing={abort:function(){nt(e,function(a){a.complete||vt(a,f,g)})}},nt(e,function(a){a.complete?g():pt(a,f,g,{once:!0})})}else {pt(c,k,this.onStart=function(c){var a=c.target;'img'!==a.tagName.toLowerCase()||et(d.filter)&&!d.filter.call(b,a)||b.view(b.images.indexOf(a))})}}}},{key:'build',value:function(){if(!this.ready){var f=this.element,b=this.options,g=f.parentNode,n=document.createElement('div');n.innerHTML='<div class="viewer-container" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list"></ul></div></div><div class="viewer-tooltip"></div><div role="button" class="viewer-button" data-viewer-action="mix"></div><div class="viewer-player"></div></div>';var c=n.querySelector('.'.concat(a,'-container')),s=c.querySelector('.'.concat(a,'-title')),d=c.querySelector('.'.concat(a,'-toolbar')),l=c.querySelector('.'.concat(a,'-navbar')),i=c.querySelector('.'.concat(a,'-button')),r=c.querySelector('.'.concat(a,'-canvas'));if(this.parent=g,this.viewer=c,this.title=s,this.toolbar=d,this.navbar=l,this.button=i,this.canvas=r,this.footer=c.querySelector('.'.concat(a,'-footer')),this.tooltipBox=c.querySelector('.'.concat(a,'-tooltip')),this.player=c.querySelector('.'.concat(a,'-player')),this.list=c.querySelector('.'.concat(a,'-list')),ht(s,b.title?kt(Array.isArray(b.title)?b.title[0]:b.title):h),ht(l,b.navbar?kt(b.navbar):h),ct(i,h,!b.button),b.backdrop&&(ht(c,''.concat(a,'-backdrop')),b.inline||'static'===b.backdrop||ft(r,y,'hide')),$(b.className)&&b.className&&b.className.split(z).forEach(function(a){ht(c,a)}),b.toolbar){var m=document.createElement('ul'),j=it(b.toolbar),t=p.slice(0,3),w=p.slice(7,9),u=p.slice(9);j||ht(d,kt(b.toolbar)),nt(j?b.toolbar:p,function(c,l){var g=j&&it(c),e=j?dt(l):c,h=g&&!J(c.show)?c.show:c;if(h&&(b.zoomable||-1===t.indexOf(e))&&(b.rotatable||-1===w.indexOf(e))&&(b.scalable||-1===u.indexOf(e))){var i=g&&!J(c.size)?c.size:c,f=g&&!J(c.click)?c.click:c,d=document.createElement('li');d.setAttribute('role','button'),ht(d,''.concat(a,'-').concat(e)),et(f)||ft(d,y,e),G(h)&&ht(d,kt(h)),-1!==['small','large'].indexOf(i)?ht(d,''.concat(a,'-').concat(i)):'play'===e&&ht(d,''.concat(a,'-large')),et(f)&&pt(d,k,f),m.appendChild(d)}}),d.appendChild(m)}else {ht(d,h)}if(!b.rotatable){var o=d.querySelectorAll('li[class*="rotate"]');ht(o,v),nt(o,function(a){d.appendChild(a)})}if(b.inline){ht(i,am),at(c,{zIndex:b.zIndexInline}),'static'===window.getComputedStyle(g).position&&at(g,{position:'relative'}),g.insertBefore(c,f.nextSibling)}else {ht(i,al),ht(c,B),ht(c,q),ht(c,h),at(c,{zIndex:b.zIndex});var e=b.container;$(e)&&(e=f.ownerDocument.querySelector(e)),e||(e=this.body),e.appendChild(c)}b.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,et(b.ready)&&pt(f,M,b.ready,{once:!0}),!1!==wt(f,M)?this.ready&&b.inline&&this.view(this.index):this.ready=!1}}}],[{key:'noConflict',value:function(){return window.Viewer=Y,e}},{key:'setDefaults',value:function(a){c(W,it(a)&&a)}}]),e}();return c(C.prototype,Z,ac,_,aa,ab),C});